# æ–°è¥¿å…°ä¸­å°ä¼ä¸šç½‘ç«™è‡ªåŠ¨åŒ–ç”Ÿæˆå®Œæ•´æµç¨‹æ–‡æ¡£

## æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†ä½¿ç”¨ docms-scaffold è„šæ‰‹æ¶è‡ªåŠ¨åŒ–ç”Ÿæˆæ–°è¥¿å…°ä¸­å°ä¼ä¸šç½‘ç«™çš„å®Œæ•´æµç¨‹ï¼ŒåŒ…æ‹¬é¡¹ç›®åˆå§‹åŒ–ã€ç½‘ç«™è§„åˆ’ã€æ•°æ®åº“æ„å»ºã€å›¾ç‰‡ç”Ÿæˆã€æ¨¡æ¿å¼€å‘å’Œè´¨é‡æµ‹è¯•ç­‰å…¨éƒ¨ç¯èŠ‚ã€‚

**ç‰ˆæœ¬ï¼š** 1.1
**åˆ›å»ºæ—¥æœŸï¼š** 2025-11-02
**æ›´æ–°æ—¥æœŸï¼š** 2025-11-02
**é€‚ç”¨é¡¹ç›®ï¼š** docms-scaffold ç½‘ç«™ç”Ÿæˆç³»ç»Ÿ

---

## ç›®å½•

1. [æµç¨‹æ¦‚è§ˆ](#æµç¨‹æ¦‚è§ˆ)
2. [æ­¥éª¤ä¸€ï¼šé¡¹ç›®æ¡†æ¶åˆå§‹åŒ–](#æ­¥éª¤ä¸€é¡¹ç›®æ¡†æ¶åˆå§‹åŒ–)
3. [æ­¥éª¤äºŒï¼šç½‘ç«™è§„åˆ’ä¸å†…å®¹ç­–åˆ’](#æ­¥éª¤äºŒç½‘ç«™è§„åˆ’ä¸å†…å®¹ç­–åˆ’)
4. [æ­¥éª¤ä¸‰ï¼šæ•°æ®åº“åˆå§‹åŒ–ä¸æ•°æ®å¡«å……](#æ­¥éª¤ä¸‰æ•°æ®åº“åˆå§‹åŒ–ä¸æ•°æ®å¡«å……)
5. [æ­¥éª¤å››ï¼šå›¾ç‰‡èµ„æºè‡ªåŠ¨ç”Ÿæˆ](#æ­¥éª¤å››å›¾ç‰‡èµ„æºè‡ªåŠ¨ç”Ÿæˆ)
6. [æ­¥éª¤äº”ï¼šæ¨¡æ¿æ–‡ä»¶å¼€å‘](#æ­¥éª¤äº”æ¨¡æ¿æ–‡ä»¶å¼€å‘)
7. [æ­¥éª¤å…­ï¼šåŠŸèƒ½æµ‹è¯•ä¸éªŒæ”¶](#æ­¥éª¤å…­åŠŸèƒ½æµ‹è¯•ä¸éªŒæ”¶)
8. [å…³é”®æ–‡ä»¶æ ¼å¼è¯´æ˜](#å…³é”®æ–‡ä»¶æ ¼å¼è¯´æ˜)
9. [å¸¸è§é—®é¢˜ä¸æ³¨æ„äº‹é¡¹](#å¸¸è§é—®é¢˜ä¸æ³¨æ„äº‹é¡¹)
10. [é™„å½•](#é™„å½•)

---

## æµç¨‹æ¦‚è§ˆ

æ•´ä¸ªç½‘ç«™ç”Ÿæˆæµç¨‹åˆ†ä¸ºå…­ä¸ªä¸»è¦æ­¥éª¤ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç½‘ç«™è‡ªåŠ¨åŒ–ç”Ÿæˆæµç¨‹                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æ­¥éª¤1: é¡¹ç›®æ¡†æ¶åˆå§‹åŒ–                                          â”‚
  â”‚ å·¥å…·: docms-scaffold/create_project.py                        â”‚
  â”‚ è¾“å…¥: é¡¹ç›®åç§° (å¦‚: brownsbay-language-school.nz)             â”‚
  â”‚ è¾“å‡º: å®Œæ•´çš„é¡¹ç›®ç›®å½•ç»“æ„                                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æ­¥éª¤2: ç½‘ç«™è§„åˆ’ä¸å†…å®¹ç­–åˆ’                                      â”‚
  â”‚ å·¥å…·: website_planner (AI Agent)                              â”‚
  â”‚ è¾“å…¥: å®¢æˆ·éœ€æ±‚ã€è¡Œä¸šç±»å‹ã€ä¸šåŠ¡ä¿¡æ¯                              â”‚
  â”‚ è¾“å‡º: init-website.json, init-images.json, è®¾è®¡é£æ ¼æ–‡æ¡£        â”‚
  â”‚       æ–°æ¨¡å—è®¾è®¡ï¼ˆå¦‚éœ€è¦ï¼‰ã€æ•°æ®åº“è¿ç§»è„šæœ¬                      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â†“                                   â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æ­¥éª¤3: æ•°æ®åº“åˆå§‹åŒ–  â”‚         â”‚ æ­¥éª¤4: å›¾ç‰‡ç”Ÿæˆ      â”‚
  â”‚ (å¹¶è¡Œæ‰§è¡Œ)           â”‚         â”‚ (å¹¶è¡Œæ‰§è¡Œ)           â”‚
  â”‚ è¾“å…¥: init-website  â”‚         â”‚ è¾“å…¥: init-images   â”‚
  â”‚ .json               â”‚         â”‚ .json               â”‚
  â”‚ è¾“å‡º: database.db   â”‚         â”‚ è¾“å‡º: å›¾ç‰‡æ–‡ä»¶ +     â”‚
  â”‚ (å«æ ç›®/å†…å®¹)        â”‚         â”‚ Media è¡¨è®°å½•        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æ­¥éª¤5: æ¨¡æ¿æ–‡ä»¶å¼€å‘                                            â”‚
  â”‚ å·¥å…·: website_developer (AI Agent)                            â”‚
  â”‚ è¾“å…¥: ç½‘ç«™è§„åˆ’ã€è®¾è®¡é£æ ¼æ–‡æ¡£                                   â”‚
  â”‚ è¾“å‡º: Jinja2 æ¨¡æ¿æ–‡ä»¶ (templates/*.html)                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ æ­¥éª¤6: åŠŸèƒ½æµ‹è¯•ä¸éªŒæ”¶                                          â”‚
  â”‚ å·¥å…·: website_tester + Chrome DevTools MCP                    â”‚
  â”‚ éªŒè¯: æ ç›®é“¾æ¥ã€å†…å®¹å®Œæ•´æ€§ã€å›¾ç‰‡åŠ è½½ã€åŠŸèƒ½æ­£å¸¸                   â”‚
  â”‚ è¾“å‡º: æµ‹è¯•æŠ¥å‘Šã€bug ä¿®å¤                                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  ç½‘ç«™éƒ¨ç½²ä¸Šçº¿    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ€»è€—æ—¶ä¼°è®¡ï¼š** 2.5-4.5 å°æ—¶ï¼ˆè‡ªåŠ¨åŒ–ç¨‹åº¦ 80%ï¼Œä¸»è¦æ—¶é—´åœ¨ç½‘ç«™è§„åˆ’ã€æ¨¡å—è®¾è®¡å’Œæ¨¡æ¿å¼€å‘ï¼‰

---

## æ­¥éª¤ä¸€ï¼šé¡¹ç›®æ¡†æ¶åˆå§‹åŒ–

### 1.1 ç›®æ ‡

ä½¿ç”¨ docms-scaffold è„šæ‰‹æ¶å¿«é€Ÿåˆ›å»ºæ–°ç½‘ç«™çš„å®Œæ•´é¡¹ç›®ç»“æ„ï¼ŒåŒ…æ‹¬ï¼š
- FastAPI åº”ç”¨æ¡†æ¶
- SQLAlchemy æ•°æ®åº“æ¨¡å‹
- Jinja2 æ¨¡æ¿å¼•æ“é…ç½®
- Alembic æ•°æ®åº“è¿ç§»å·¥å…·
- åŸºç¡€è·¯ç”±å’ŒæœåŠ¡å±‚

### 1.2 æ‰§è¡Œæ­¥éª¤

#### 1.2.1 è¿›å…¥è„šæ‰‹æ¶ç›®å½•

```bash
cd D:\projects\docmsnz\docms-scaffold
```

#### 1.2.2 è¿è¡Œé¡¹ç›®åˆ›å»ºè„šæœ¬

```bash
python create_project.py <é¡¹ç›®åç§°> [ç›®æ ‡è·¯å¾„]
```

**ç¤ºä¾‹ï¼š**

```bash
# åœ¨å½“å‰ç›®å½•çš„ä¸Šçº§åˆ›å»ºé¡¹ç›®
python create_project.py brownsbay-language-school.nz ../

# æŒ‡å®šå®Œæ•´è·¯å¾„
python create_project.py my-cafe-website D:/websites/
```

#### 1.2.3 è„šæœ¬æ‰§è¡Œå†…å®¹

`create_project.py` è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

1. **åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„**

   ```
   <project-name>/
   â”œâ”€â”€ app/                    # åº”ç”¨æ ¸å¿ƒä»£ç 
   â”‚   â”œâ”€â”€ models/            # æ•°æ®åº“æ¨¡å‹
   â”‚   â”‚   â”œâ”€â”€ base.py
   â”‚   â”‚   â”œâ”€â”€ site.py       # æ ç›®ã€å•é¡µæ¨¡å‹
   â”‚   â”‚   â”œâ”€â”€ post.py       # æ–‡ç« /æ–°é—»æ¨¡å‹
   â”‚   â”‚   â”œâ”€â”€ product.py    # äº§å“æ¨¡å‹
   â”‚   â”‚   â”œâ”€â”€ media.py      # åª’ä½“æ–‡ä»¶æ¨¡å‹
   â”‚   â”‚   â””â”€â”€ contact.py    # è”ç³»è¡¨å•æ¨¡å‹
   â”‚   â”œâ”€â”€ routes/            # è·¯ç”±å¤„ç†
   â”‚   â”‚   â”œâ”€â”€ frontend.py   # å‰å°è·¯ç”±
   â”‚   â”‚   â””â”€â”€ health.py     # å¥åº·æ£€æŸ¥
   â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡é€»è¾‘å±‚
   â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
   â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
   â”‚   â”œâ”€â”€ schemas/           # Pydantic æ•°æ®éªŒè¯
   â”‚   â”œâ”€â”€ main.py           # åº”ç”¨å·¥å‚
   â”‚   â”œâ”€â”€ config.py         # é…ç½®ç®¡ç†
   â”‚   â””â”€â”€ database.py       # æ•°æ®åº“è¿æ¥
   â”œâ”€â”€ templates/             # Jinja2 æ¨¡æ¿ç›®å½•
   â”‚   â”œâ”€â”€ base.html         # åŸºç¡€æ¨¡æ¿
   â”‚   â””â”€â”€ static/           # é™æ€èµ„æº
   â”‚       â”œâ”€â”€ css/
   â”‚       â”œâ”€â”€ js/
   â”‚       â””â”€â”€ images/       # å›¾ç‰‡å­˜æ”¾ç›®å½•
   â”œâ”€â”€ migrations/            # Alembic æ•°æ®åº“è¿ç§»
   â”œâ”€â”€ instance/              # è¿è¡Œæ—¶æ•°æ®
   â”‚   â”œâ”€â”€ database.db       # SQLite æ•°æ®åº“
   â”‚   â””â”€â”€ media/            # ä¸Šä¼ çš„åª’ä½“æ–‡ä»¶
   â”œâ”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶
   â”œâ”€â”€ app.py                 # åº”ç”¨å…¥å£
   â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
   â”œâ”€â”€ alembic.ini           # Alembic é…ç½®
   â””â”€â”€ site.yaml             # ç«™ç‚¹é…ç½®æ–‡ä»¶
   ```

2. **å¤åˆ¶ scaffold æ¨¡æ¿æ–‡ä»¶**
   - ä» `docms-scaffold/` å¤åˆ¶æ‰€æœ‰å¿…è¦çš„æ–‡ä»¶åˆ°æ–°é¡¹ç›®ç›®å½•
   - è·³è¿‡ `create_project.py` å’Œ `README.md`

3. **æ›¿æ¢æ¨¡æ¿å ä½ç¬¦**

   è‡ªåŠ¨æ›¿æ¢ä»¥ä¸‹å ä½ç¬¦ï¼š

   | å ä½ç¬¦ | æ›¿æ¢å€¼ | ç¤ºä¾‹ |
   |--------|--------|------|
   | `{{PROJECT_NAME}}` | é¡¹ç›®åç§°ï¼ˆæ ‡é¢˜åŒ–ï¼‰ | Brownsbay Language School.Nz |
   | `{{PROJECT_SLUG}}` | é¡¹ç›® slugï¼ˆå°å†™ï¼‰ | brownsbay-language-school.nz |
   | `{{SITE_NAME}}` | ç«™ç‚¹åç§° | Brownsbay Language School.Nz |
   | `{{DATABASE_NAME}}` | æ•°æ®åº“åç§° | database.db |
   | `{{COPYRIGHT_YEAR}}` | å½“å‰å¹´ä»½ | 2025 |

4. **åˆ›å»ºåˆå§‹ç›®å½•**
   - `instance/` - å­˜æ”¾æ•°æ®åº“å’Œè¿è¡Œæ—¶æ•°æ®
   - `instance/media/` - å­˜æ”¾ä¸Šä¼ çš„åª’ä½“æ–‡ä»¶
   - `logs/` - å­˜æ”¾æ—¥å¿—æ–‡ä»¶

### 1.3 éªŒè¯é¡¹ç›®åˆ›å»º

æ£€æŸ¥é¡¹ç›®ç›®å½•æ˜¯å¦åˆ›å»ºæˆåŠŸï¼š

```bash
cd ../brownsbay-language-school.nz
ls -la
```

é¢„æœŸè¾“å‡ºåº”åŒ…å«ï¼š`app/`, `templates/`, `migrations/`, `instance/`, `app.py`, `requirements.txt` ç­‰ã€‚

### 1.4 åˆå§‹åŒ– Python ç¯å¢ƒ

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 1.5 åˆå§‹åŒ–æ•°æ®åº“ç»“æ„

```bash
# è¿è¡Œ Alembic è¿ç§»ï¼Œåˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
alembic upgrade head
```

æ­¤æ—¶ä¼šåœ¨ `instance/database.db` åˆ›å»º SQLite æ•°æ®åº“ï¼ŒåŒ…å«ä»¥ä¸‹è¡¨ï¼š
- `site_column` - ç½‘ç«™æ ç›®
- `single_page` - å•é¡µå†…å®¹
- `post` - æ–‡ç« /æ–°é—»
- `post_category` - æ–‡ç« åˆ†ç±»
- `product` - äº§å“ä¿¡æ¯
- `media_file` - åª’ä½“æ–‡ä»¶
- `contact_form` - è”ç³»è¡¨å•æäº¤
- `site_setting` - ç«™ç‚¹é…ç½®

### 1.6 è¾“å‡ºæˆæœ

âœ… **å®Œæˆæ ‡å¿—ï¼š**
- é¡¹ç›®ç›®å½•ç»“æ„å®Œæ•´
- è™šæ‹Ÿç¯å¢ƒåˆ›å»ºæˆåŠŸ
- ä¾èµ–å®‰è£…å®Œæˆ
- æ•°æ®åº“è¡¨ç»“æ„å·²åˆ›å»ºï¼ˆç©ºæ•°æ®ï¼‰

---

## æ­¥éª¤äºŒï¼šç½‘ç«™è§„åˆ’ä¸å†…å®¹ç­–åˆ’

### 2.1 ç›®æ ‡

æ ¹æ®å®¢æˆ·éœ€æ±‚ï¼Œç”± AI Agent `website_planner` è¿›è¡Œæ™ºèƒ½åŒ–ç½‘ç«™ç­–åˆ’ï¼ŒåŒ…æ‹¬ï¼š
- ç¡®å®šç½‘ç«™æ ç›®ç»“æ„
- é€‰æ‹©åˆé€‚çš„åŠŸèƒ½æ¨¡å—
- **è®¾è®¡æ–°å¢æ¨¡å—ï¼ˆå¦‚ scaffold åŸºç¡€æ¨¡å—ä¸æ»¡è¶³éœ€æ±‚ï¼‰**
- ç”Ÿæˆåˆå§‹å†…å®¹
- è§„åˆ’æ‰€éœ€å›¾ç‰‡èµ„æº
- è®¾è®¡ç½‘ç«™é£æ ¼æŒ‡å—

### 2.2 è¾“å…¥ä¿¡æ¯

#### 2.2.1 å®¢æˆ·éœ€æ±‚ç¤ºä¾‹

```
å®¢æˆ·ä¿¡æ¯ï¼š
- å…¬å¸åç§°ï¼šBrowns Bay Language School
- è¡Œä¸šï¼šæ•™è‚²åŸ¹è®­ - è¯­è¨€å­¦æ ¡
- ä½ç½®ï¼šæ–°è¥¿å…°å¥¥å…‹å…° Browns Bay
- ç›®æ ‡ç”¨æˆ·ï¼šç•™å­¦ç”Ÿã€ç§»æ°‘ã€æœ¬åœ°å±…æ°‘
- æ ¸å¿ƒæœåŠ¡ï¼šè‹±è¯­è¯¾ç¨‹ã€é›…æ€åŸ¹è®­ã€ä¼ä¸šåŸ¹è®­
- ç‰¹è‰²ï¼šå°ç­æ•™å­¦ã€ç»éªŒä¸°å¯Œçš„æ•™å¸ˆå›¢é˜Ÿã€çµæ´»çš„ä¸Šè¯¾æ—¶é—´

éœ€æ±‚ï¼š
1. å±•ç¤ºå­¦æ ¡ç®€ä»‹å’ŒåŠå­¦ç†å¿µ
2. è¯¾ç¨‹ä»‹ç»ï¼ˆé€šç”¨è‹±è¯­ã€é›…æ€ã€å•†åŠ¡è‹±è¯­ç­‰ï¼‰
3. æ•™å¸ˆå›¢é˜Ÿå±•ç¤º
4. å­¦ç”Ÿè¯„ä»·å’ŒæˆåŠŸæ¡ˆä¾‹
5. åœ¨çº¿è¯¾ç¨‹å’¨è¯¢é¢„çº¦
6. æ–°é—»èµ„è®¯ï¼ˆå­¦æ ¡åŠ¨æ€ã€è¡Œä¸šèµ„è®¯ï¼‰
7. è”ç³»æ–¹å¼å’Œåœ°ç†ä½ç½®
```

### 2.3 æ‰§è¡Œæµç¨‹

#### 2.3.1 å¯åŠ¨ website_planner Agent

```
è°ƒç”¨ AI Agent: website_planner

æç¤ºè¯æ¨¡æ¿ï¼š
---
æ‚¨æ˜¯æ–°è¥¿å…°ä¸­å°ä¼ä¸šç½‘ç«™è§„åˆ’ä¸“å®¶ã€‚è¯·æ ¹æ®ä»¥ä¸‹å®¢æˆ·éœ€æ±‚ï¼Œè§„åˆ’ç½‘ç«™çš„æ ç›®ç»“æ„ã€å†…å®¹ç­–ç•¥å’Œå›¾ç‰‡æ–¹æ¡ˆã€‚

ã€å®¢æˆ·éœ€æ±‚ã€‘
{å®¢æˆ·æä¾›çš„éœ€æ±‚ä¿¡æ¯}

ã€å‚è€ƒæ–‡æ¡£ã€‘
- ç½‘ç«™ç³»ç»Ÿæ¨¡å—è®¾è®¡æ–¹æ¡ˆ.mdï¼ˆ20ä¸ªåŠŸèƒ½æ¨¡å—ï¼‰
- æ–°è¥¿å…°ä¸­å°ä¼ä¸šç½‘ç«™æ¨¡æ¿ç ”ç©¶æŠ¥å‘Š.md

ã€è¾“å‡ºè¦æ±‚ã€‘
1. ç”Ÿæˆ init-website.json - åŒ…å«æ ç›®ç»“æ„å’Œåˆå§‹å†…å®¹
2. ç”Ÿæˆ init-images.json - åŒ…å«æ‰€æœ‰éœ€è¦ç”Ÿæˆçš„å›¾ç‰‡æ¸…å•
3. æ’°å†™ç½‘ç«™è®¾è®¡é£æ ¼æŒ‡å—æ–‡æ¡£ï¼ˆdesign-guide.mdï¼‰

è¯·å¼€å§‹è§„åˆ’ã€‚
---
```

#### 2.3.2 website_planner æ‰§è¡Œä»»åŠ¡

Agent ä¼šæ‰§è¡Œä»¥ä¸‹åˆ†æå’Œå†³ç­–ï¼š

1. **è¡Œä¸šåˆ†æ**
   - è¯†åˆ«è¡Œä¸šç±»å‹ï¼šæ•™è‚²åŸ¹è®­
   - å‚è€ƒè¡Œä¸šæœ€ä½³å®è·µ
   - ç¡®å®šç›®æ ‡ç”¨æˆ·ç”»åƒ

2. **æ¨¡å—é€‰æ‹©**

   åŸºäºã€Šç½‘ç«™ç³»ç»Ÿæ¨¡å—è®¾è®¡æ–¹æ¡ˆ.mdã€‹ï¼Œä¸ºè¯­è¨€å­¦æ ¡é€‰æ‹©æ¨¡å—ï¼š

   **æ ¸å¿ƒå¿…éœ€æ¨¡å—ï¼š**
   - âœ… å•é¡µæ¨¡å—ï¼ˆå…³äºæˆ‘ä»¬ã€è”ç³»æˆ‘ä»¬ï¼‰
   - âœ… æ–°é—»èµ„è®¯æ¨¡å—
   - âœ… å›¢é˜Ÿå±•ç¤ºæ¨¡å—
   - âœ… è”ç³»è¡¨å•æ¨¡å—
   - âœ… åœ¨çº¿é¢„çº¦æ¨¡å—ï¼ˆè¯¾ç¨‹å’¨è¯¢ï¼‰
   - âœ… FAQ æ¨¡å—

   **é«˜éœ€æ±‚æ¨¡å—ï¼š**
   - âœ… æœåŠ¡/äº§å“ç›®å½•æ¨¡å—ï¼ˆè¯¾ç¨‹å±•ç¤ºï¼‰
   - âœ… æ¡ˆä¾‹å±•ç¤ºæ¨¡å—ï¼ˆå­¦ç”ŸæˆåŠŸæ¡ˆä¾‹ï¼‰
   - âœ… è¯„è®º/è¯„ä»·ç³»ç»Ÿ

   **å¯é€‰æ¨¡å—ï¼š**
   - â­• è§†é¢‘å±•ç¤ºæ¨¡å—ï¼ˆæ•™å­¦è§†é¢‘ï¼‰
   - â­• æ–‡ä»¶ä¸‹è½½æ¨¡å—ï¼ˆè¯¾ç¨‹èµ„æ–™ï¼‰

3. **æ¨¡å—è®¾è®¡ä¸æ‰©å±•**

   **âš ï¸ é‡è¦ç¯èŠ‚ï¼š** å¦‚æœ scaffold æä¾›çš„åŸºç¡€æ¨¡å—ä¸èƒ½æ»¡è¶³å®¢æˆ·çš„ç‰¹å®šéœ€æ±‚ï¼Œéœ€è¦è®¾è®¡æ–°å¢æ¨¡å—ã€‚

   **scaffold åŸºç¡€æ¨¡å—åŒ…æ‹¬ï¼š**
   - `SiteColumn` - æ ç›®/å¯¼èˆª
   - `SinglePage` - å•é¡µå†…å®¹
   - `Post` / `PostCategory` - æ–‡ç« /æ–°é—»
   - `Product` - äº§å“/æœåŠ¡
   - `MediaFile` - åª’ä½“æ–‡ä»¶
   - `ContactForm` - è”ç³»è¡¨å•æäº¤
   - `SiteSetting` - ç«™ç‚¹é…ç½®

   **å¸¸è§éœ€è¦æ–°å¢çš„æ¨¡å—ç¤ºä¾‹ï¼š**

   a. **åœ¨çº¿é¢„çº¦æ¨¡å—ï¼ˆBookingï¼‰**
   ```python
   # é€‚ç”¨äºï¼šè¯­è¨€å­¦æ ¡è¯¾ç¨‹é¢„çº¦ã€åŒ»ç–—é¢„çº¦ã€æœåŠ¡é¢„çº¦ç­‰

   class Booking(BaseModel):
       __tablename__ = "booking"

       customer_name = Column(String(100), nullable=False)
       customer_email = Column(String(100), nullable=False)
       customer_phone = Column(String(50))
       service_type = Column(String(100))  # æœåŠ¡ç±»å‹
       booking_date = Column(Date, nullable=False)
       booking_time = Column(Time, nullable=False)
       duration_minutes = Column(Integer, default=60)
       status = Column(Enum("pending", "confirmed", "cancelled"), default="pending")
       notes = Column(Text)
   ```

   b. **å­¦ç”Ÿè¯„ä»·æ¨¡å—ï¼ˆTestimonialï¼‰**
   ```python
   # é€‚ç”¨äºï¼šæ•™è‚²æœºæ„ã€æœåŠ¡è¡Œä¸šç­‰

   class Testimonial(BaseModel):
       __tablename__ = "testimonial"

       student_name = Column(String(100), nullable=False)
       student_photo = Column(String(500))
       course_name = Column(String(200))
       rating = Column(Integer)  # 1-5æ˜Ÿè¯„åˆ†
       content = Column(Text, nullable=False)
       is_featured = Column(Boolean, default=False)
       status = Column(Enum("pending", "approved", "rejected"), default="pending")
   ```

   c. **æ•™å¸ˆå›¢é˜Ÿæ¨¡å—ï¼ˆTeacherï¼‰**
   ```python
   # é€‚ç”¨äºï¼šæ•™è‚²æœºæ„ã€ä¸“ä¸šæœåŠ¡å›¢é˜Ÿç­‰

   class Teacher(BaseModel):
       __tablename__ = "teacher"

       name = Column(String(100), nullable=False)
       title = Column(String(100))  # èŒä½/å¤´è¡”
       photo_media_id = Column(Integer, ForeignKey("media_file.id"))
       bio = Column(Text)
       qualifications = Column(Text)  # èµ„è´¨è¯ä¹¦
       specialties = Column(String(500))  # ä¸“é•¿é¢†åŸŸ
       email = Column(String(100))
       sort_order = Column(Integer, default=0)
       is_active = Column(Boolean, default=True)
   ```

   d. **FAQ é—®ç­”æ¨¡å—**
   ```python
   # é€‚ç”¨äºï¼šæ‰€æœ‰ç½‘ç«™

   class FAQ(BaseModel):
       __tablename__ = "faq"

       category = Column(String(100))  # é—®é¢˜åˆ†ç±»
       question = Column(String(500), nullable=False)
       answer = Column(Text, nullable=False)
       sort_order = Column(Integer, default=0)
       is_visible = Column(Boolean, default=True)
   ```

   **æ¨¡å—è®¾è®¡è¾“å‡ºï¼š**

   Agent ä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

   - **`app/models/booking.py`** - æ–°æ¨¡å—çš„æ•°æ®æ¨¡å‹å®šä¹‰
   - **`migrations/versions/xxxx_add_booking_module.py`** - Alembic è¿ç§»è„šæœ¬
   - **`docs/module-design.md`** - æ¨¡å—è®¾è®¡æ–‡æ¡£

   **æ¨¡å—è®¾è®¡æ–‡æ¡£åº”åŒ…å«ï¼š**
   ```markdown
   # æ–°å¢æ¨¡å—è®¾è®¡æ–‡æ¡£

   ## 1. åœ¨çº¿é¢„çº¦æ¨¡å— (Booking)

   ### ä¸šåŠ¡éœ€æ±‚
   - å­¦ç”Ÿå¯åœ¨çº¿é¢„çº¦å…è´¹è¯•å¬è¯¾ç¨‹
   - ç®¡ç†å‘˜å¯æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰é¢„çº¦
   - é¢„çº¦ç¡®è®¤åå‘é€é‚®ä»¶é€šçŸ¥

   ### æ•°æ®åº“è®¾è®¡
   - è¡¨åï¼šbooking
   - å­—æ®µï¼š[è¯¦ç»†å­—æ®µåˆ—è¡¨]
   - ç´¢å¼•ï¼šbooking_date, customer_email
   - å…³è”ï¼šæ— 

   ### API æ¥å£
   - POST /api/bookings - åˆ›å»ºé¢„çº¦
   - GET /api/bookings - æŸ¥è¯¢é¢„çº¦åˆ—è¡¨ï¼ˆç®¡ç†ç«¯ï¼‰
   - PATCH /api/bookings/{id} - æ›´æ–°é¢„çº¦çŠ¶æ€

   ### å‰ç«¯é¡µé¢
   - /book-trial - é¢„çº¦è¡¨å•é¡µé¢
   - /admin/bookings - ç®¡ç†å‘˜é¢„çº¦ç®¡ç†é¡µé¢
   ```

4. **æ ç›®ç»“æ„è®¾è®¡**

   ```
   é¦–é¡µ (Home)
   â”œâ”€â”€ å…³äºæˆ‘ä»¬ (About Us)
   â”‚   â”œâ”€â”€ å­¦æ ¡ç®€ä»‹ (School Introduction)
   â”‚   â”œâ”€â”€ åŠå­¦ç†å¿µ (Our Philosophy)
   â”‚   â””â”€â”€ æ ¡å›­è®¾æ–½ (Facilities)
   â”œâ”€â”€ è¯¾ç¨‹ä¸­å¿ƒ (Courses)
   â”‚   â”œâ”€â”€ é€šç”¨è‹±è¯­ (General English)
   â”‚   â”œâ”€â”€ é›…æ€åŸ¹è®­ (IELTS Preparation)
   â”‚   â”œâ”€â”€ å•†åŠ¡è‹±è¯­ (Business English)
   â”‚   â””â”€â”€ ä¼ä¸šåŸ¹è®­ (Corporate Training)
   â”œâ”€â”€ å¸ˆèµ„å›¢é˜Ÿ (Our Teachers)
   â”œâ”€â”€ å­¦ç”Ÿè¯„ä»· (Testimonials)
   â”œâ”€â”€ æ–°é—»èµ„è®¯ (News & Events)
   â”‚   â”œâ”€â”€ å­¦æ ¡åŠ¨æ€ (School News)
   â”‚   â””â”€â”€ è¡Œä¸šèµ„è®¯ (Industry Insights)
   â”œâ”€â”€ å¸¸è§é—®é¢˜ (FAQ)
   â””â”€â”€ è”ç³»æˆ‘ä»¬ (Contact Us)
       â”œâ”€â”€ åœ¨çº¿å’¨è¯¢ (Inquiry Form)
       â””â”€â”€ è¯¾ç¨‹é¢„çº¦ (Book a Trial)
   ```

4. **å†…å®¹ç”Ÿæˆ**

   ä¸ºæ¯ä¸ªæ ç›®ç”Ÿæˆåˆå§‹å†…å®¹æ–‡æ¡ˆï¼ˆè‹±æ–‡ + ä¸­æ–‡åŒè¯­ï¼‰

5. **å›¾ç‰‡è§„åˆ’**

   ç¡®å®šæ‰€æœ‰éœ€è¦çš„å›¾ç‰‡ï¼š
   - Hero Bannerï¼ˆé¦–é¡µå¤§å›¾ï¼‰
   - è¯¾ç¨‹ç‰¹è‰²å›¾ï¼ˆ4å¼ ï¼‰
   - æ•™å¸ˆå¤´åƒï¼ˆ6-8å¼ ï¼‰
   - æ ¡å›­ç¯å¢ƒï¼ˆ5-8å¼ ï¼‰
   - æˆåŠŸæ¡ˆä¾‹é…å›¾ï¼ˆ3-5å¼ ï¼‰
   - æ–°é—»èµ„è®¯é…å›¾ï¼ˆé¢„ç•™5å¼ ï¼‰

6. **æ–°æ¨¡å—å¼€å‘ï¼ˆå¦‚éœ€è¦ï¼‰**

   å¦‚æœæ­¥éª¤3ç¡®å®šéœ€è¦æ–°å¢æ¨¡å—ï¼Œwebsite_planner ä¼šè°ƒç”¨ website_developer å®Œæˆï¼š

   - åˆ›å»ºæ–°æ¨¡å—çš„ Model æ–‡ä»¶
   - ç”Ÿæˆ Alembic è¿ç§»è„šæœ¬
   - ç¼–å†™æ¨¡å—è®¾è®¡æ–‡æ¡£

### 2.4 è¾“å‡ºæ–‡ä»¶

#### 2.4.1 init-website.json

å®Œæ•´çš„ç½‘ç«™æ•°æ®ç»“æ„ï¼ŒåŒ…å«æ ç›®ã€å•é¡µã€æ–‡ç« ç­‰æ‰€æœ‰å†…å®¹ã€‚

**æ–‡ä»¶ä½ç½®ï¼š** `<project-root>/config/init-website.json`

**æ ¼å¼å‚è§ï¼š** [å…³é”®æ–‡ä»¶æ ¼å¼è¯´æ˜ - init-website.json](#81-init-websitejson-æ ¼å¼)

#### 2.4.2 init-images.json

æ‰€æœ‰éœ€è¦ç”Ÿæˆçš„å›¾ç‰‡æ¸…å•ï¼ŒåŒ…å«æ–‡ä»¶åã€æç¤ºè¯ã€å°ºå¯¸ã€ç”¨é€”ç­‰ã€‚

**æ–‡ä»¶ä½ç½®ï¼š** `<project-root>/config/init-images.json`

**æ ¼å¼å‚è§ï¼š** [å…³é”®æ–‡ä»¶æ ¼å¼è¯´æ˜ - init-images.json](#82-init-imagesjson-æ ¼å¼)

#### 2.4.3 design-guide.md

ç½‘ç«™è®¾è®¡é£æ ¼æŒ‡å—æ–‡æ¡£ã€‚

**æ–‡ä»¶ä½ç½®ï¼š** `<project-root>/docs/design-guide.md`

**å†…å®¹åŒ…æ‹¬ï¼š**
- è‰²å½©æ–¹æ¡ˆï¼ˆä¸»è‰²ã€è¾…åŠ©è‰²ã€å­—ä½“é¢œè‰²ï¼‰
- å­—ä½“è®¾è®¡ï¼ˆæ ‡é¢˜å­—ä½“ã€æ­£æ–‡å­—ä½“ã€å­—å·è§„èŒƒï¼‰
- å¸ƒå±€é£æ ¼ï¼ˆé¡µé¢å¸ƒå±€ã€é—´è·è§„èŒƒï¼‰
- ç»„ä»¶æ ·å¼ï¼ˆæŒ‰é’®ã€å¡ç‰‡ã€è¡¨å•ç­‰ï¼‰
- å›¾ç‰‡é£æ ¼æŒ‡å¯¼ï¼ˆè‰²è°ƒã€æ„å›¾ã€å…ƒç´ ï¼‰
- å“åº”å¼è®¾è®¡è¦æ±‚

#### 2.4.4 æ–°å¢æ¨¡å—æ–‡ä»¶ï¼ˆå¦‚éœ€è¦ï¼‰

å¦‚æœéœ€è¦æ‰©å±• scaffold åŸºç¡€æ¨¡å—ï¼Œä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

**a. æ¨¡å—æ¨¡å‹æ–‡ä»¶**

**æ–‡ä»¶ä½ç½®ï¼š** `<project-root>/app/models/<module_name>.py`

**ç¤ºä¾‹ï¼š** `app/models/booking.py`, `app/models/teacher.py`, `app/models/testimonial.py`

**b. æ•°æ®åº“è¿ç§»è„šæœ¬**

**æ–‡ä»¶ä½ç½®ï¼š** `<project-root>/migrations/versions/<timestamp>_add_<module_name>.py`

**ç¤ºä¾‹ï¼š**
```python
# migrations/versions/20251102_1200_add_booking_module.py

"""Add booking module

Revision ID: abc123def456
Revises: previous_revision
Create Date: 2025-11-02 12:00:00.000000
"""

def upgrade():
    op.create_table(
        'booking',
        sa.Column('id', sa.Integer(), nullable=False),
        sa.Column('customer_name', sa.String(100), nullable=False),
        # ... å…¶ä»–å­—æ®µ
        sa.PrimaryKeyConstraint('id')
    )

def downgrade():
    op.drop_table('booking')
```

**c. æ¨¡å—è®¾è®¡æ–‡æ¡£**

**æ–‡ä»¶ä½ç½®ï¼š** `<project-root>/docs/module-design.md`

**å†…å®¹åŒ…æ‹¬ï¼š**
- ä¸šåŠ¡éœ€æ±‚è¯´æ˜
- æ•°æ®åº“è®¾è®¡
- API æ¥å£è®¾è®¡
- å‰ç«¯é¡µé¢è§„åˆ’
- å®ç°æ³¨æ„äº‹é¡¹

### 2.5 æ•°æ®åº“è¿ç§»ï¼ˆå¦‚æœ‰æ–°æ¨¡å—ï¼‰

**âš ï¸ é‡è¦ï¼š** å¦‚æœæ­¥éª¤ 2.4.4 ç”Ÿæˆäº†æ–°çš„æ•°æ®åº“è¿ç§»è„šæœ¬ï¼Œéœ€è¦åœ¨æ•°æ®å¡«å……å‰æ‰§è¡Œè¿ç§»ã€‚

```bash
cd <project-root>

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate  # Windows

# æ‰§è¡Œæ•°æ®åº“è¿ç§»ï¼Œåˆ›å»ºæ–°æ¨¡å—çš„è¡¨ç»“æ„
alembic upgrade head
```

**éªŒè¯è¿ç§»ç»“æœï¼š**

```bash
# æŸ¥çœ‹æ•°æ®åº“è¡¨
sqlite3 instance/database.db ".tables"

# åº”è¯¥çœ‹åˆ°æ–°å¢çš„è¡¨ï¼Œå¦‚ï¼šbooking, teacher, testimonial ç­‰
```

### 2.6 äººå·¥å®¡æ ¸

**âš ï¸ é‡è¦æ£€æŸ¥ç‚¹ï¼š**

1. **æ ç›®ç»“æ„åˆç†æ€§**
   - æ˜¯å¦ç¬¦åˆå®¢æˆ·ä¸šåŠ¡éœ€æ±‚
   - å¯¼èˆªå±‚çº§æ˜¯å¦æ¸…æ™°ï¼ˆå»ºè®®ä¸è¶…è¿‡3å±‚ï¼‰
   - URL slug æ˜¯å¦ç¬¦åˆ SEO è§„èŒƒ

2. **å†…å®¹è´¨é‡**
   - æ–‡æ¡ˆæ˜¯å¦ç¬¦åˆå“ç‰Œè°ƒæ€§
   - æ˜¯å¦æœ‰æ˜æ˜¾é”™è¯¯æˆ–ä¸å½“è¡¨è¿°
   - åŒè¯­å†…å®¹æ˜¯å¦å¯¹åº”

3. **å›¾ç‰‡è§„åˆ’å®Œæ•´æ€§**
   - å…³é”®é¡µé¢æ˜¯å¦éƒ½æœ‰é…å›¾
   - å›¾ç‰‡æç¤ºè¯æ˜¯å¦æ¸…æ™°å‡†ç¡®
   - å°ºå¯¸è§„æ ¼æ˜¯å¦ç¬¦åˆè®¾è®¡éœ€æ±‚

4. **æ–°å¢æ¨¡å—è®¾è®¡ï¼ˆå¦‚æœ‰ï¼‰**
   - æ•°æ®åº“è®¾è®¡æ˜¯å¦åˆç†ï¼ˆå­—æ®µã€ç´¢å¼•ã€å…³è”ï¼‰
   - æ¨¡å—åŠŸèƒ½æ˜¯å¦æ»¡è¶³ä¸šåŠ¡éœ€æ±‚
   - API æ¥å£è®¾è®¡æ˜¯å¦å®Œæ•´
   - è¿ç§»è„šæœ¬æ˜¯å¦æ­£ç¡®ï¼ˆæµ‹è¯•æ‰§è¡Œ `alembic upgrade head`ï¼‰

**å¦‚éœ€ä¿®æ”¹ï¼š** å¯ç›´æ¥ç¼–è¾‘ JSON æ–‡ä»¶ã€æ¨¡å‹æ–‡ä»¶æˆ–è¿ç§»è„šæœ¬ï¼Œæˆ–è¯·æ±‚ website_planner é‡æ–°ç”Ÿæˆã€‚

### 2.7 è¾“å‡ºæˆæœ

âœ… **å®Œæˆæ ‡å¿—ï¼š**
- `init-website.json` æ–‡ä»¶ç”Ÿæˆå®Œæˆ
- `init-images.json` æ–‡ä»¶ç”Ÿæˆå®Œæˆ
- `design-guide.md` è®¾è®¡æŒ‡å—å®Œæˆ
- æ–°å¢æ¨¡å—æ–‡ä»¶ï¼ˆå¦‚éœ€è¦ï¼‰ï¼š
  - æ¨¡å—æ¨¡å‹æ–‡ä»¶ï¼ˆ`app/models/*.py`ï¼‰
  - æ•°æ®åº“è¿ç§»è„šæœ¬ï¼ˆ`migrations/versions/*.py`ï¼‰
  - æ¨¡å—è®¾è®¡æ–‡æ¡£ï¼ˆ`docs/module-design.md`ï¼‰
  - æ•°æ®åº“è¿ç§»å·²æ‰§è¡Œå¹¶éªŒè¯
- å®¢æˆ·æˆ–é¡¹ç›®è´Ÿè´£äººå®¡æ ¸é€šè¿‡

---

## æ­¥éª¤ä¸‰ï¼šæ•°æ®åº“åˆå§‹åŒ–ä¸æ•°æ®å¡«å……

### 3.1 ç›®æ ‡

å°† `init-website.json` ä¸­çš„ç»“æ„åŒ–æ•°æ®å¯¼å…¥åˆ° SQLite æ•°æ®åº“ä¸­ï¼ŒåŒ…æ‹¬ï¼š
- ç½‘ç«™æ ç›®ï¼ˆsite_columnï¼‰
- å•é¡µå†…å®¹ï¼ˆsingle_pageï¼‰
- æ–‡ç« /æ–°é—»ï¼ˆpostï¼‰
- äº§å“/æœåŠ¡ï¼ˆproductï¼‰
- ç«™ç‚¹é…ç½®ï¼ˆsite_settingï¼‰
- **æ–°å¢æ¨¡å—æ•°æ®ï¼ˆå¦‚æœ‰ï¼‰**ï¼šå¦‚ bookingï¼ˆé¢„çº¦ï¼‰ã€teacherï¼ˆæ•™å¸ˆï¼‰ã€testimonialï¼ˆè¯„ä»·ï¼‰ç­‰

### 3.2 éœ€è¦å¼€å‘çš„å·¥å…·è„šæœ¬

#### 3.2.1 è„šæœ¬åç§°

`tools/init_database.py`

#### 3.2.2 è„šæœ¬åŠŸèƒ½

```python
#!/usr/bin/env python3
"""
æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

ä» init-website.json è¯»å–æ•°æ®å¹¶å¡«å……åˆ°æ•°æ®åº“ä¸­

ç”¨æ³•:
    python init_database.py --project-path <é¡¹ç›®è·¯å¾„> --config <é…ç½®æ–‡ä»¶è·¯å¾„>

ç¤ºä¾‹:
    python init_database.py --project-path ../brownsbay-language-school.nz --config ../brownsbay-language-school.nz/config/init-website.json
"""
```

**æ ¸å¿ƒåŠŸèƒ½ï¼š**

1. è¿æ¥åˆ°ç›®æ ‡é¡¹ç›®çš„æ•°æ®åº“ (`instance/database.db`)
2. è§£æ `init-website.json` æ–‡ä»¶
3. æŒ‰é¡ºåºæ’å…¥æ•°æ®ï¼š
   - å…ˆæ’å…¥é¡¶çº§æ ç›®ï¼ˆparent_id = NULLï¼‰
   - å†æ’å…¥å­æ ç›®ï¼ˆæœ‰ parent_idï¼‰
   - æ ¹æ®æ ç›®ç±»å‹æ’å…¥å¯¹åº”å†…å®¹ï¼š
     - `SINGLE_PAGE` â†’ æ’å…¥ `single_page` è¡¨
     - `POST` â†’ æ’å…¥ `post` è¡¨å’Œ `post_category` è¡¨
     - `PRODUCT` â†’ æ’å…¥ `product` è¡¨
4. æ’å…¥ç«™ç‚¹é…ç½®ï¼ˆsite_settingï¼‰
5. **æ’å…¥æ–°å¢æ¨¡å—æ•°æ®ï¼ˆå¦‚æœ‰ï¼‰**ï¼š
   - `bookings` â†’ æ’å…¥ `booking` è¡¨
   - `teachers` â†’ æ’å…¥ `teacher` è¡¨
   - `testimonials` â†’ æ’å…¥ `testimonial` è¡¨
   - `faqs` â†’ æ’å…¥ `faq` è¡¨
6. å¤„ç†å…³è”å…³ç³»ï¼ˆå¦‚æ–‡ç« åˆ†ç±»å…³è”ï¼‰
7. ç”Ÿæˆåˆå§‹åŒ–æ—¥å¿—

### 3.3 æ‰§è¡Œæ­¥éª¤

#### 3.3.1 è¿›å…¥ tools ç›®å½•

```bash
cd D:\projects\docmsnz\tools
```

#### 3.3.2 è¿è¡Œæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

```bash
python init_database.py \
  --project-path ../brownsbay-language-school.nz \
  --config ../brownsbay-language-school.nz/config/init-website.json
```

#### 3.3.3 è„šæœ¬æ‰§è¡Œè¿‡ç¨‹

```
[INFO] å¼€å§‹æ•°æ®åº“åˆå§‹åŒ–...
[INFO] é¡¹ç›®è·¯å¾„: D:\projects\docmsnz\brownsbay-language-school.nz
[INFO] é…ç½®æ–‡ä»¶: init-website.json
[INFO] æ•°æ®åº“è·¯å¾„: D:\projects\docmsnz\brownsbay-language-school.nz\instance\database.db
[INFO] è§£æé…ç½®æ–‡ä»¶...
[INFO] å‘ç° 12 ä¸ªæ ç›®
[INFO] å‘ç° 5 ä¸ªå•é¡µ
[INFO] å‘ç° 8 ä¸ªæ–‡ç« 
[INFO] å‘ç° 6 ä¸ªäº§å“/æœåŠ¡
[INFO]
[INFO] å¼€å§‹æ’å…¥æ•°æ®...
[OK] æ’å…¥æ ç›®: é¦–é¡µ (home)
[OK] æ’å…¥æ ç›®: å…³äºæˆ‘ä»¬ (about-us)
[OK] æ’å…¥æ ç›®: è¯¾ç¨‹ä¸­å¿ƒ (courses)
...
[OK] æ’å…¥å•é¡µ: å…³äºæˆ‘ä»¬ - å­¦æ ¡ç®€ä»‹
[OK] æ’å…¥å•é¡µ: å…³äºæˆ‘ä»¬ - åŠå­¦ç†å¿µ
...
[OK] æ’å…¥æ–‡ç« : æ–°å­¦æœŸå¼€å­¦é€šçŸ¥
[OK] æ’å…¥æ–‡ç« : é›…æ€è€ƒè¯•æŠ€å·§åˆ†äº«
...
[OK] æ’å…¥äº§å“: é€šç”¨è‹±è¯­è¯¾ç¨‹
[OK] æ’å…¥äº§å“: é›…æ€åŸ¹è®­è¯¾ç¨‹
...
[INFO]
[SUCCESS] æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ!
[INFO] ç»Ÿè®¡:
  - æ ç›®: 12 æ¡
  - å•é¡µ: 5 æ¡
  - æ–‡ç« : 8 æ¡
  - äº§å“: 6 æ¡
  - æ€»è®¡: 31 æ¡è®°å½•
[INFO] è€—æ—¶: 2.3 ç§’
```

### 3.4 æ•°æ®éªŒè¯

#### 3.4.1 ä½¿ç”¨ SQLite å®¢æˆ·ç«¯éªŒè¯

```bash
sqlite3 ../brownsbay-language-school.nz/instance/database.db

# æŸ¥çœ‹æ ç›®
SELECT id, name, slug, column_type FROM site_column;

# æŸ¥çœ‹å•é¡µ
SELECT id, title, column_id FROM single_page;

# æŸ¥çœ‹æ–‡ç« 
SELECT id, title, slug FROM post;

# é€€å‡º
.quit
```

#### 3.4.2 å¯åŠ¨ç½‘ç«™éªŒè¯

```bash
cd ../brownsbay-language-school.nz
python app.py
```

è®¿é—® `http://localhost:8000`ï¼Œæ£€æŸ¥ï¼š
- å¯¼èˆªæ æ˜¯å¦æ˜¾ç¤ºæ‰€æœ‰æ ç›®
- ç‚¹å‡»æ ç›®æ˜¯å¦èƒ½è®¿é—®ï¼ˆå†…å®¹å¯èƒ½è¿˜æ²¡æœ‰æ¨¡æ¿ï¼Œä¼šæŠ¥é”™ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼‰
- æ•°æ®åº“å†…å®¹æ˜¯å¦æ­£ç¡®è¯»å–

### 3.5 å¹¶è¡Œæ‰§è¡Œè¯´æ˜

**âš ï¸ é‡è¦ï¼š** æ­¥éª¤ä¸‰ï¼ˆæ•°æ®åº“åˆå§‹åŒ–ï¼‰å’Œæ­¥éª¤å››ï¼ˆå›¾ç‰‡ç”Ÿæˆï¼‰å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œäº’ä¸å½±å“ã€‚

å»ºè®®å¼€å¯ä¸¤ä¸ªç»ˆç«¯çª—å£ï¼ŒåŒæ—¶è¿è¡Œï¼š
- ç»ˆç«¯ 1ï¼šè¿è¡Œ `init_database.py`
- ç»ˆç«¯ 2ï¼šè¿è¡Œ `generate_images.py`

è¿™æ ·å¯ä»¥èŠ‚çœæ€»ä½“æ—¶é—´ã€‚

### 3.6 è¾“å‡ºæˆæœ

âœ… **å®Œæˆæ ‡å¿—ï¼š**
- `instance/database.db` å·²å¡«å……æ•°æ®
- æ ç›®ç»“æ„å®Œæ•´ï¼ˆå¯é€šè¿‡ SQL æŸ¥è¯¢éªŒè¯ï¼‰
- å†…å®¹æ•°æ®å®Œæ•´ï¼ˆå•é¡µã€æ–‡ç« ã€äº§å“ç­‰ï¼‰
- ç«™ç‚¹é…ç½®å·²è®¾ç½®

---

## æ­¥éª¤å››ï¼šå›¾ç‰‡èµ„æºè‡ªåŠ¨ç”Ÿæˆ

### 4.1 ç›®æ ‡

ä½¿ç”¨ Zhipu AI CogView-3-Flash æ¨¡å‹ï¼Œæ ¹æ® `init-images.json` ä¸­çš„æç¤ºè¯æ‰¹é‡ç”Ÿæˆç½‘ç«™æ‰€éœ€çš„æ‰€æœ‰å›¾ç‰‡ï¼Œå¹¶å°†å›¾ç‰‡ä¿¡æ¯å½•å…¥æ•°æ®åº“çš„ `media_file` è¡¨ã€‚

### 4.2 å‰ç½®å‡†å¤‡

#### 4.2.1 é…ç½® API å¯†é’¥

ç¡®ä¿å·²è®¾ç½®ç¯å¢ƒå˜é‡ `ZHIPU_KEY`ï¼š

```bash
# Windows PowerShell
$env:ZHIPU_KEY="your-zhipu-api-key-here"

# Linux/Mac
export ZHIPU_KEY="your-zhipu-api-key-here"

# éªŒè¯
echo $env:ZHIPU_KEY  # Windows
echo $ZHIPU_KEY      # Linux/Mac
```

**å¦‚ä½•è·å– API Keyï¼š**
1. è®¿é—®æ™ºè°± AI å¼€æ”¾å¹³å°ï¼šhttps://open.bigmodel.cn/
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. è¿›å…¥æ§åˆ¶å° â†’ API Keys â†’ åˆ›å»ºæ–°å¯†é’¥
4. å¤åˆ¶å¯†é’¥å¹¶è®¾ç½®åˆ°ç¯å¢ƒå˜é‡

### 4.3 æ‰§è¡Œæ­¥éª¤

#### 4.3.1 è¿›å…¥ tools ç›®å½•

```bash
cd D:\projects\docmsnz\tools
```

#### 4.3.2 è¿è¡Œå›¾ç‰‡ç”Ÿæˆè„šæœ¬

```bash
python generate_images.py --config ../brownsbay-language-school.nz/config/init-images.json
```

**å‚æ•°è¯´æ˜ï¼š**
- `--config` : æŒ‡å®šå›¾ç‰‡é…ç½® JSON æ–‡ä»¶è·¯å¾„ï¼ˆå¿…éœ€ï¼‰
- å¦‚ä¸æŒ‡å®šï¼Œé»˜è®¤è¯»å–å½“å‰ç›®å½•çš„ `images.json`

#### 4.3.3 è„šæœ¬æ‰§è¡Œè¿‡ç¨‹

```
================================================================================
Batch Image Generation - Zhipu AI CogView
================================================================================
Model: cogview-3-flash
Configuration file: ../brownsbay-language-school.nz/config/init-images.json
Total images to generate: 18
Output directory: ../brownsbay-language-school.nz/templates/static/images
================================================================================

[1/18] Processing: hero-banner.jpg
================================================================================
Generating: hero-banner.jpg
Priority: high
Prompt: Modern language school classroom in Browns Bay, Auckland, New Zealand...
Calling API...
Image URL received: https://aigc-files.bigmodel.cn/api/cogview/20250102...
Downloading image...
[SUCCESS] Saved to hero-banner.jpg (487.3 KB)
Waiting 2 seconds before next request...

[2/18] Processing: course-general-english.jpg
================================================================================
...

[18/18] Processing: news-placeholder-5.jpg
[SKIP] Skipped - file already exists

================================================================================
GENERATION COMPLETE!
================================================================================
Total images: 18
Successfully generated: 18
Failed: 0

[OK] All images generated successfully!
================================================================================
```

#### 4.3.4 æ‰§è¡Œæ—¶é—´ä¼°ç®—

- **å•å¼ å›¾ç‰‡ç”Ÿæˆæ—¶é—´ï¼š** çº¦ 3-5 ç§’ï¼ˆAPI è°ƒç”¨ + ä¸‹è½½ï¼‰
- **ç­‰å¾…é—´éš”ï¼š** æ¯å¼ å›¾ç‰‡é—´éš” 2 ç§’ï¼ˆé¿å… API é™æµï¼‰
- **18 å¼ å›¾ç‰‡æ€»è€—æ—¶ï¼š** çº¦ 2-3 åˆ†é’Ÿ

### 4.4 å›¾ç‰‡ç”Ÿæˆè§„åˆ™

#### 4.4.1 ä¼˜å…ˆçº§æ’åº

è„šæœ¬ä¼šæŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºç”Ÿæˆå›¾ç‰‡ï¼š
1. `high` - é«˜ä¼˜å…ˆçº§ï¼ˆé¦–é¡µ bannerã€æ ¸å¿ƒåŠŸèƒ½å›¾ï¼‰
2. `medium` - ä¸­ä¼˜å…ˆçº§ï¼ˆæ ç›®é…å›¾ã€å†…å®¹å›¾ï¼‰
3. `low` - ä½ä¼˜å…ˆçº§ï¼ˆå ä½å›¾ã€å¤‡ç”¨å›¾ï¼‰

#### 4.4.2 æ–­ç‚¹ç»­ä¼ 

- å¦‚æœå›¾ç‰‡æ–‡ä»¶å·²å­˜åœ¨ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨è·³è¿‡ï¼Œä¸ä¼šé‡å¤ç”Ÿæˆ
- ä¸­æ–­åå¯ç›´æ¥é‡æ–°è¿è¡Œï¼Œå·²ç”Ÿæˆçš„å›¾ç‰‡ä¸ä¼šè¢«è¦†ç›–

#### 4.4.3 é”™è¯¯å¤„ç†

- API è°ƒç”¨å¤±è´¥ä¼šè®°å½•é”™è¯¯ï¼Œç»§ç»­ç”Ÿæˆä¸‹ä¸€å¼ 
- æœ€ç»ˆä¼šè¾“å‡ºå¤±è´¥å›¾ç‰‡åˆ—è¡¨ï¼Œå¯æ‰‹åŠ¨é‡è¯•

### 4.5 å›¾ç‰‡å…¥åº“ï¼ˆéœ€å¼€å‘ï¼‰

#### 4.5.1 æ‰©å±•è„šæœ¬åŠŸèƒ½

éœ€è¦åœ¨ `generate_images.py` ä¸­æ·»åŠ æ•°æ®åº“å†™å…¥åŠŸèƒ½ï¼Œæˆ–åˆ›å»ºç‹¬ç«‹è„šæœ¬ `import_images_to_db.py`ã€‚

**æ ¸å¿ƒé€»è¾‘ï¼š**

```python
def import_image_to_db(filename, image_info, db_session):
    """
    å°†ç”Ÿæˆçš„å›¾ç‰‡ä¿¡æ¯å†™å…¥ media_file è¡¨

    å‚æ•°:
        filename: å›¾ç‰‡æ–‡ä»¶å
        image_info: åŒ…å« size, usage, alt_text ç­‰ä¿¡æ¯
        db_session: æ•°æ®åº“ä¼šè¯
    """
    from PIL import Image
    import os

    # è·å–å›¾ç‰‡è·¯å¾„
    file_path = f"/static/images/{filename}"
    full_path = f"templates{file_path}"

    # è¯»å–å›¾ç‰‡å°ºå¯¸
    img = Image.open(full_path)
    width, height = img.size

    # è·å–æ–‡ä»¶å¤§å°
    file_size = os.path.getsize(full_path)

    # åˆ›å»º MediaFile è®°å½•
    media = MediaFile(
        filename_original=filename,
        mime_type="image/jpeg",  # æˆ–æ ¹æ®æ–‡ä»¶æ‰©å±•ååˆ¤æ–­
        size_bytes=file_size,
        width=width,
        height=height,
        path_original=file_path,
        path_medium=None,  # å¦‚éœ€ç¼©ç•¥å›¾å¯åç»­ç”Ÿæˆ
        path_thumb=None
    )

    db_session.add(media)
    db_session.commit()

    print(f"[DB] Imported: {filename} (ID: {media.id})")

    return media.id
```

#### 4.5.2 æ‰§è¡Œå…¥åº“

```bash
# å‡è®¾åˆ›å»ºäº†ç‹¬ç«‹è„šæœ¬
python import_images_to_db.py \
  --project-path ../brownsbay-language-school.nz \
  --config ../brownsbay-language-school.nz/config/init-images.json
```

### 4.6 éªŒè¯å›¾ç‰‡

#### 4.6.1 æ£€æŸ¥æ–‡ä»¶ç³»ç»Ÿ

```bash
cd ../brownsbay-language-school.nz/templates/static/images
ls -lh
```

åº”è¯¥çœ‹åˆ°æ‰€æœ‰ç”Ÿæˆçš„å›¾ç‰‡æ–‡ä»¶ã€‚

#### 4.6.2 æ£€æŸ¥æ•°æ®åº“

```bash
sqlite3 ../instance/database.db

SELECT id, filename_original, width, height, size_bytes
FROM media_file;
```

åº”è¯¥çœ‹åˆ°æ‰€æœ‰å›¾ç‰‡çš„æ•°æ®åº“è®°å½•ã€‚

#### 4.6.3 æµè§ˆå™¨éªŒè¯

å¯åŠ¨ç½‘ç«™åï¼Œç›´æ¥è®¿é—®å›¾ç‰‡ URLï¼š

```
http://localhost:8000/static/images/hero-banner.jpg
http://localhost:8000/static/images/course-general-english.jpg
```

### 4.7 è¾“å‡ºæˆæœ

âœ… **å®Œæˆæ ‡å¿—ï¼š**
- æ‰€æœ‰å›¾ç‰‡æ–‡ä»¶å·²ç”Ÿæˆå¹¶ä¿å­˜åˆ° `templates/static/images/`
- å›¾ç‰‡è´¨é‡ç¬¦åˆè¦æ±‚ï¼ˆ1024x1024 æˆ–æŒ‡å®šå°ºå¯¸ï¼‰
- å›¾ç‰‡ä¿¡æ¯å·²å½•å…¥ `media_file` è¡¨
- å¯é€šè¿‡ URL è®¿é—®æ‰€æœ‰å›¾ç‰‡

---

## æ­¥éª¤äº”ï¼šæ¨¡æ¿æ–‡ä»¶å¼€å‘

### 5.1 ç›®æ ‡

æ ¹æ®ç½‘ç«™è§„åˆ’å’Œè®¾è®¡é£æ ¼æŒ‡å—ï¼Œç”± AI Agent `website_developer` å¼€å‘ Jinja2 æ¨¡æ¿æ–‡ä»¶ï¼Œå®ç°ç½‘ç«™çš„å‰ç«¯å±•ç¤ºã€‚

### 5.2 è¾“å…¥èµ„æ–™

å¼€å‘å‰éœ€å‡†å¤‡çš„æ–‡æ¡£å’Œæ•°æ®ï¼š

1. **ç½‘ç«™è§„åˆ’æ–‡æ¡£**
   - `init-website.json` - æ ç›®ç»“æ„å’Œå†…å®¹
   - `design-guide.md` - è®¾è®¡é£æ ¼æŒ‡å—

2. **æ•°æ®åº“ç»“æ„**
   - å·²äº†è§£å„æ•°æ®è¡¨çš„å­—æ®µå’Œå…³ç³»

3. **ç°æœ‰æ¨¡æ¿åŸºç¡€**
   - `templates/base.html` - åŸºç¡€æ¨¡æ¿ï¼ˆlayoutï¼‰
   - `templates/static/` - é™æ€èµ„æºç›®å½•

### 5.3 æ‰§è¡Œæµç¨‹

#### 5.3.1 å¯åŠ¨ website_developer Agent

```
è°ƒç”¨ AI Agent: website_developer

æç¤ºè¯æ¨¡æ¿ï¼š
---
æ‚¨æ˜¯ Jinja2 æ¨¡æ¿å¼€å‘ä¸“å®¶ã€‚è¯·æ ¹æ®ä»¥ä¸‹ç½‘ç«™è§„åˆ’å’Œè®¾è®¡æŒ‡å—ï¼Œå¼€å‘å®Œæ•´çš„ç½‘ç«™æ¨¡æ¿ã€‚

ã€é¡¹ç›®ä¿¡æ¯ã€‘
- é¡¹ç›®åç§°: Browns Bay Language School
- é¡¹ç›®è·¯å¾„: D:\projects\docmsnz\brownsbay-language-school.nz
- æ¨¡æ¿å¼•æ“: Jinja2
- åç«¯æ¡†æ¶: FastAPI + SQLAlchemy

ã€è¾“å…¥æ–‡æ¡£ã€‘
1. init-website.json - ç½‘ç«™ç»“æ„å’Œå†…å®¹
2. design-guide.md - è®¾è®¡é£æ ¼æŒ‡å—
3. æ•°æ®åº“æ¨¡å‹å®šä¹‰ (app/models/*.py)

ã€å¼€å‘è¦æ±‚ã€‘
1. åŸºäº templates/base.html å¼€å‘å„é¡µé¢æ¨¡æ¿
2. éµå¾ªè®¾è®¡æŒ‡å—çš„è‰²å½©ã€å­—ä½“ã€å¸ƒå±€è§„èŒƒ
3. ç¡®ä¿å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯å‹å¥½ï¼‰
4. å›¾ç‰‡è·¯å¾„ä½¿ç”¨ /static/images/<filename>
5. ä½¿ç”¨ Jinja2 æ¨¡æ¿è¯­æ³•åŠ¨æ€æ¸²æŸ“æ•°æ®åº“å†…å®¹
6. æ¯ä¸ªæ ç›®ç±»å‹å¯¹åº”ä¸€ä¸ªæ¨¡æ¿ï¼š
   - SINGLE_PAGE â†’ single_page.html
   - POST â†’ post_list.html, post_detail.html
   - PRODUCT â†’ product_list.html, product_detail.html
7. é¦–é¡µä½¿ç”¨ index.html

ã€è¾“å‡ºæ–‡ä»¶åˆ—è¡¨ã€‘
templates/
â”œâ”€â”€ base.html           (å·²å­˜åœ¨ï¼Œå¯ä¼˜åŒ–)
â”œâ”€â”€ index.html          (é¦–é¡µ)
â”œâ”€â”€ single_page.html    (å•é¡µé€šç”¨æ¨¡æ¿)
â”œâ”€â”€ post_list.html      (æ–‡ç« åˆ—è¡¨)
â”œâ”€â”€ post_detail.html    (æ–‡ç« è¯¦æƒ…)
â”œâ”€â”€ product_list.html   (äº§å“åˆ—è¡¨)
â”œâ”€â”€ product_detail.html (äº§å“è¯¦æƒ…)
â”œâ”€â”€ components/         (ç»„ä»¶ç›®å½•)
â”‚   â”œâ”€â”€ navbar.html
â”‚   â”œâ”€â”€ footer.html
â”‚   â”œâ”€â”€ breadcrumb.html
â”‚   â””â”€â”€ contact_form.html
â””â”€â”€ static/
    â”œâ”€â”€ css/
    â”‚   â””â”€â”€ main.css    (ä¸»æ ·å¼è¡¨)
    â””â”€â”€ js/
        â””â”€â”€ main.js     (ä¸»è„šæœ¬)

è¯·å¼€å§‹å¼€å‘ã€‚
---
```

#### 5.3.2 website_developer æ‰§è¡Œä»»åŠ¡

Agent ä¼šé€æ­¥å®Œæˆä»¥ä¸‹å¼€å‘å·¥ä½œï¼š

1. **åˆ†æè®¾è®¡æŒ‡å—**
   - æå–è‰²å½©å˜é‡ï¼ˆCSS Variablesï¼‰
   - ç¡®å®šå­—ä½“æ–¹æ¡ˆ
   - ç†è§£å¸ƒå±€è§„èŒƒ

2. **å¼€å‘åŸºç¡€æ¨¡æ¿**

   **templates/base.html ç¤ºä¾‹ç»“æ„ï¼š**

   ```html
   <!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>{% block title %}{{ site_info('site_name') }}{% endblock %}</title>
       <meta name="description" content="{% block meta_description %}{% endblock %}">

       <!-- CSS -->
       <link rel="stylesheet" href="/static/css/main.css">
       {% block extra_css %}{% endblock %}
   </head>
   <body>
       <!-- å¯¼èˆªæ  -->
       {% include 'components/navbar.html' %}

       <!-- ä¸»å†…å®¹åŒº -->
       <main>
           {% block content %}{% endblock %}
       </main>

       <!-- é¡µè„š -->
       {% include 'components/footer.html' %}

       <!-- JavaScript -->
       <script src="/static/js/main.js"></script>
       {% block extra_js %}{% endblock %}
   </body>
   </html>
   ```

3. **å¼€å‘é¦–é¡µæ¨¡æ¿**

   **templates/index.html ç¤ºä¾‹ï¼š**

   ```html
   {% extends "base.html" %}

   {% block title %}{{ site_info('site_name') }} - Home{% endblock %}

   {% block content %}
   <!-- Hero Section -->
   <section class="hero">
       <img src="/static/images/hero-banner.jpg" alt="Browns Bay Language School">
       <div class="hero-content">
           <h1>Welcome to Browns Bay Language School</h1>
           <p>Your journey to English fluency starts here</p>
           <a href="/courses" class="btn btn-primary">Explore Courses</a>
       </div>
   </section>

   <!-- Features Section -->
   <section class="features">
       <h2>Why Choose Us</h2>
       <div class="feature-grid">
           <div class="feature-card">
               <img src="/static/images/feature-small-class.jpg" alt="Small Classes">
               <h3>Small Class Sizes</h3>
               <p>Maximum 12 students per class for personalized attention</p>
           </div>
           <!-- æ›´å¤š feature cards... -->
       </div>
   </section>

   <!-- Courses Preview -->
   <section class="courses-preview">
       <h2>Our Courses</h2>
       {% for course in courses[:3] %}
       <div class="course-card">
           <img src="/static/images/course-{{ course.slug }}.jpg" alt="{{ course.name }}">
           <h3>{{ course.name }}</h3>
           <p>{{ course.summary }}</p>
           <a href="/courses/{{ course.slug }}">Learn More</a>
       </div>
       {% endfor %}
   </section>
   {% endblock %}
   ```

4. **å¼€å‘å•é¡µæ¨¡æ¿**

   **templates/single_page.html**

5. **å¼€å‘æ–‡ç« åˆ—è¡¨å’Œè¯¦æƒ…æ¨¡æ¿**

   **templates/post_list.html**
   **templates/post_detail.html**

6. **å¼€å‘äº§å“/æœåŠ¡æ¨¡æ¿**

   **templates/product_list.html**
   **templates/product_detail.html**

7. **å¼€å‘ç»„ä»¶**

   **templates/components/navbar.html** - å¯¼èˆªæ 
   **templates/components/footer.html** - é¡µè„š
   **templates/components/contact_form.html** - è”ç³»è¡¨å•

8. **å¼€å‘ CSS æ ·å¼**

   **templates/static/css/main.css** - æ ¹æ®è®¾è®¡æŒ‡å—ç¼–å†™æ ·å¼

9. **å¼€å‘ JavaScript**

   **templates/static/js/main.js** - äº¤äº’é€»è¾‘

### 5.4 è·¯ç”±é…ç½®

ç¡®ä¿ `app/routes/frontend.py` ä¸­é…ç½®äº†æ‰€æœ‰å¿…è¦çš„è·¯ç”±ï¼š

```python
from fastapi import APIRouter, Request, Depends
from fastapi.responses import HTMLResponse
from sqlalchemy.orm import Session
from app.database import get_db
from app.models.site import SiteColumn, SinglePage
from app.models.post import Post
from app.models.product import Product

router = APIRouter()

@router.get("/", response_class=HTMLResponse)
async def home(request: Request, db: Session = Depends(get_db)):
    """é¦–é¡µ"""
    # è·å–è¯¾ç¨‹åˆ—è¡¨ï¼ˆå‰3ä¸ªï¼‰
    courses = db.query(Product).limit(3).all()
    return templates.TemplateResponse("index.html", {
        "request": request,
        "courses": courses
    })

@router.get("/{slug}", response_class=HTMLResponse)
async def single_page(slug: str, request: Request, db: Session = Depends(get_db)):
    """å•é¡µè·¯ç”±"""
    column = db.query(SiteColumn).filter_by(slug=slug).first()
    if not column:
        raise HTTPException(status_code=404)

    if column.column_type == "SINGLE_PAGE":
        page = db.query(SinglePage).filter_by(column_id=column.id).first()
        return templates.TemplateResponse("single_page.html", {
            "request": request,
            "column": column,
            "page": page
        })
    # å…¶ä»–æ ç›®ç±»å‹çš„å¤„ç†...
```

### 5.5 æ¨¡æ¿æµ‹è¯•

#### 5.5.1 å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
cd brownsbay-language-school.nz
python app.py
```

è®¿é—® `http://localhost:8000`

#### 5.5.2 æµ‹è¯•æ¸…å•

- [ ] é¦–é¡µæ˜¾ç¤ºæ­£å¸¸
- [ ] å¯¼èˆªæ æ˜¾ç¤ºæ‰€æœ‰æ ç›®
- [ ] ç‚¹å‡»å¯¼èˆªæ å¯è·³è½¬åˆ°å¯¹åº”é¡µé¢
- [ ] å•é¡µå†…å®¹æ˜¾ç¤ºæ­£ç¡®ï¼ˆå…³äºæˆ‘ä»¬ã€è”ç³»æˆ‘ä»¬ç­‰ï¼‰
- [ ] æ–‡ç« åˆ—è¡¨å’Œè¯¦æƒ…é¡µæ˜¾ç¤ºæ­£å¸¸
- [ ] äº§å“/è¯¾ç¨‹åˆ—è¡¨å’Œè¯¦æƒ…é¡µæ˜¾ç¤ºæ­£å¸¸
- [ ] å›¾ç‰‡å…¨éƒ¨åŠ è½½æˆåŠŸ
- [ ] å“åº”å¼è®¾è®¡åœ¨ç§»åŠ¨ç«¯æ­£å¸¸
- [ ] è”ç³»è¡¨å•å¯æäº¤
- [ ] æ—  JavaScript é”™è¯¯
- [ ] æ—  CSS æ ·å¼é”™è¯¯

### 5.6 è¾“å‡ºæˆæœ

âœ… **å®Œæˆæ ‡å¿—ï¼š**
- æ‰€æœ‰æ¨¡æ¿æ–‡ä»¶å·²å¼€å‘å®Œæˆ
- CSS å’Œ JavaScript æ–‡ä»¶å·²ç¼–å†™
- ç½‘ç«™å¯æ­£å¸¸è®¿é—®ï¼Œé¡µé¢æ˜¾ç¤ºæ­£ç¡®
- å›¾ç‰‡ã€æ ·å¼ã€äº¤äº’åŠŸèƒ½æ­£å¸¸
- ä»£ç ç¬¦åˆè§„èŒƒï¼Œå¯è¯»æ€§å¥½

---

## æ­¥éª¤å…­ï¼šåŠŸèƒ½æµ‹è¯•ä¸éªŒæ”¶

### 6.1 ç›®æ ‡

ä½¿ç”¨ AI Agent `website_tester` é…åˆ Chrome DevTools MCP å·¥å…·ï¼Œå¯¹ç½‘ç«™è¿›è¡Œå…¨é¢çš„åŠŸèƒ½æµ‹è¯•å’Œè´¨é‡éªŒæ”¶ã€‚

### 6.2 æµ‹è¯•èŒƒå›´

#### 6.2.1 åŠŸèƒ½æµ‹è¯•

1. **å¯¼èˆªæ æµ‹è¯•**
   - æ‰€æœ‰èœå•é¡¹å¯ç‚¹å‡»
   - é“¾æ¥è·³è½¬æ­£ç¡®
   - ä¸‹æ‹‰èœå•ï¼ˆå¦‚æœ‰ï¼‰å±•å¼€æ­£å¸¸
   - ç§»åŠ¨ç«¯èœå•åˆ‡æ¢æ­£å¸¸

2. **æ ç›®é¡µé¢æµ‹è¯•**
   - æ¯ä¸ªæ ç›®éƒ½æœ‰å¯¹åº”é¡µé¢
   - å†…å®¹æ˜¾ç¤ºå®Œæ•´
   - æ—  404 é”™è¯¯
   - é¢åŒ…å±‘å¯¼èˆªæ­£ç¡®

3. **å†…å®¹å®Œæ•´æ€§æµ‹è¯•**
   - å•é¡µå†…å®¹å®Œæ•´
   - æ–‡ç« åˆ—è¡¨æ˜¾ç¤ºæ­£å¸¸
   - æ–‡ç« è¯¦æƒ…é¡µå¯è®¿é—®
   - äº§å“åˆ—è¡¨å’Œè¯¦æƒ…é¡µæ­£å¸¸

4. **å›¾ç‰‡åŠ è½½æµ‹è¯•**
   - æ‰€æœ‰å›¾ç‰‡æˆåŠŸåŠ è½½ï¼ˆæ— çº¢å‰ï¼‰
   - å›¾ç‰‡ alt å±æ€§è®¾ç½®æ­£ç¡®
   - å›¾ç‰‡å°ºå¯¸åˆé€‚ï¼Œä¸å˜å½¢
   - Lazy loadingï¼ˆå¦‚æœ‰ï¼‰å·¥ä½œæ­£å¸¸

5. **è¡¨å•åŠŸèƒ½æµ‹è¯•**
   - è”ç³»è¡¨å•å¯æäº¤
   - è¡¨å•éªŒè¯å·¥ä½œæ­£å¸¸
   - æäº¤åæœ‰åé¦ˆä¿¡æ¯
   - æ•°æ®å†™å…¥æ•°æ®åº“

6. **å“åº”å¼æµ‹è¯•**
   - æ¡Œé¢ç«¯æ˜¾ç¤ºæ­£å¸¸ï¼ˆ1920x1080ï¼‰
   - å¹³æ¿ç«¯æ˜¾ç¤ºæ­£å¸¸ï¼ˆ768x1024ï¼‰
   - ç§»åŠ¨ç«¯æ˜¾ç¤ºæ­£å¸¸ï¼ˆ375x667ï¼‰
   - æ— æ¨ªå‘æ»šåŠ¨æ¡

7. **é“¾æ¥æ£€æŸ¥**
   - æ‰€æœ‰å†…éƒ¨é“¾æ¥æœ‰æ•ˆ
   - å¤–éƒ¨é“¾æ¥ï¼ˆå¦‚æœ‰ï¼‰å¯è®¿é—®
   - æ— æ­»é“¾æ¥

#### 6.2.2 æ€§èƒ½æµ‹è¯•

- é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’
- å›¾ç‰‡ä¼˜åŒ–ï¼ˆæ–‡ä»¶å¤§å°åˆç†ï¼‰
- æ— ä¸å¿…è¦çš„èµ„æºåŠ è½½

#### 6.2.3 å…¼å®¹æ€§æµ‹è¯•

- Chrome æµè§ˆå™¨
- Firefox æµè§ˆå™¨
- Safari æµè§ˆå™¨ï¼ˆMacï¼‰
- Edge æµè§ˆå™¨

### 6.3 æ‰§è¡Œæµç¨‹

#### 6.3.1 å¯åŠ¨ website_tester Agent

```
è°ƒç”¨ AI Agent: website_tester

æç¤ºè¯æ¨¡æ¿ï¼š
---
æ‚¨æ˜¯ç½‘ç«™åŠŸèƒ½æµ‹è¯•ä¸“å®¶ã€‚è¯·ä½¿ç”¨ Chrome DevTools MCP å·¥å…·å¯¹ç½‘ç«™è¿›è¡Œå…¨é¢æµ‹è¯•ã€‚

ã€é¡¹ç›®ä¿¡æ¯ã€‘
- ç½‘ç«™ URL: http://localhost:8000
- é¡¹ç›®è·¯å¾„: D:\projects\docmsnz\brownsbay-language-school.nz
- æ•°æ®åº“: instance/database.db

ã€æµ‹è¯•ä»»åŠ¡ã€‘
1. å¯¼èˆªæ åŠŸèƒ½æµ‹è¯•
2. æ¯ä¸ªæ ç›®é¡µé¢è®¿é—®æµ‹è¯•
3. å†…å®¹å®Œæ•´æ€§æ£€æŸ¥
4. å›¾ç‰‡åŠ è½½éªŒè¯
5. è¡¨å•åŠŸèƒ½æµ‹è¯•
6. å“åº”å¼è®¾è®¡æµ‹è¯•
7. é“¾æ¥æœ‰æ•ˆæ€§æ£€æŸ¥

ã€ä½¿ç”¨å·¥å…·ã€‘
- Chrome DevTools MCPï¼ˆé€šè¿‡ MCP æœåŠ¡å™¨ï¼‰
- è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬

ã€è¾“å‡ºè¦æ±‚ã€‘
1. ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šï¼ˆtest-report.mdï¼‰
2. åˆ—å‡ºæ‰€æœ‰å‘ç°çš„é—®é¢˜
3. æˆªå›¾è®°å½•å…³é”®é—®é¢˜
4. æä¾›ä¿®å¤å»ºè®®

è¯·å¼€å§‹æµ‹è¯•ã€‚
---
```

#### 6.3.2 website_tester æ‰§è¡Œæµ‹è¯•

Agent ä¼šä½¿ç”¨ Chrome DevTools MCP å·¥å…·è¿›è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼š

1. **å¯åŠ¨æµè§ˆå™¨å¹¶æ‰“å¼€ç½‘ç«™**

   ```python
   # ä½¿ç”¨ MCP å·¥å…·
   mcp__chrome-devtools__new_page(url="http://localhost:8000")
   ```

2. **å¯¼èˆªæ æµ‹è¯•**

   ```python
   # è·å–é¡µé¢å¿«ç…§
   snapshot = mcp__chrome-devtools__take_snapshot()

   # ç‚¹å‡»å¯¼èˆªæ èœå•
   mcp__chrome-devtools__click(uid="nav-about-us")

   # ç­‰å¾…é¡µé¢åŠ è½½
   mcp__chrome-devtools__wait_for(text="About Us")

   # æˆªå›¾éªŒè¯
   mcp__chrome-devtools__take_screenshot(filePath="test-screenshots/about-us.png")
   ```

3. **éå†æ‰€æœ‰æ ç›®**

   ä»æ•°æ®åº“è¯»å–æ‰€æœ‰æ ç›®ï¼Œé€ä¸ªè®¿é—®æµ‹è¯•ï¼š

   ```python
   columns = db.query(SiteColumn).all()

   for column in columns:
       url = f"http://localhost:8000/{column.slug}"
       mcp__chrome-devtools__navigate_page(url=url)

       # æ£€æŸ¥é¡µé¢å†…å®¹
       snapshot = mcp__chrome-devtools__take_snapshot()

       # æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
       console_messages = mcp__chrome-devtools__list_console_messages(types=["error"])

       if console_messages:
           # è®°å½•é”™è¯¯
           errors.append({
               "column": column.name,
               "url": url,
               "errors": console_messages
           })
   ```

4. **å›¾ç‰‡åŠ è½½æ£€æŸ¥**

   ```python
   # è·å–æ‰€æœ‰ç½‘ç»œè¯·æ±‚
   network_requests = mcp__chrome-devtools__list_network_requests(
       resourceTypes=["image"]
   )

   # æ£€æŸ¥å¤±è´¥çš„å›¾ç‰‡è¯·æ±‚
   for req in network_requests:
       request_detail = mcp__chrome-devtools__get_network_request(reqid=req['reqid'])
       if request_detail['status'] >= 400:
           # è®°å½•å›¾ç‰‡åŠ è½½å¤±è´¥
           image_errors.append({
               "url": request_detail['url'],
               "status": request_detail['status']
           })
   ```

5. **è¡¨å•æµ‹è¯•**

   ```python
   # å¯¼èˆªåˆ°è”ç³»é¡µé¢
   mcp__chrome-devtools__navigate_page(url="http://localhost:8000/contact-us")

   # å¡«å†™è¡¨å•
   mcp__chrome-devtools__fill_form(elements=[
       {"uid": "input-name", "value": "Test User"},
       {"uid": "input-email", "value": "test@example.com"},
       {"uid": "textarea-message", "value": "This is a test message"}
   ])

   # æäº¤è¡¨å•
   mcp__chrome-devtools__click(uid="btn-submit")

   # ç­‰å¾…åé¦ˆ
   mcp__chrome-devtools__wait_for(text="Thank you for your message")

   # éªŒè¯æ•°æ®åº“è®°å½•
   # (æŸ¥è¯¢ contact_form è¡¨)
   ```

6. **å“åº”å¼æµ‹è¯•**

   ```python
   # æµ‹è¯•ä¸åŒå±å¹•å°ºå¯¸
   screen_sizes = [
       {"width": 1920, "height": 1080, "device": "Desktop"},
       {"width": 768, "height": 1024, "device": "Tablet"},
       {"width": 375, "height": 667, "device": "Mobile"}
   ]

   for size in screen_sizes:
       mcp__chrome-devtools__resize_page(
           width=size['width'],
           height=size['height']
       )

       # æˆªå›¾éªŒè¯
       mcp__chrome-devtools__take_screenshot(
           filePath=f"test-screenshots/{size['device']}-home.png"
       )

       # æ£€æŸ¥å¸ƒå±€é—®é¢˜ï¼ˆå¦‚æ¨ªå‘æ»šåŠ¨æ¡ï¼‰
       has_horizontal_scroll = mcp__chrome-devtools__evaluate_script(
           function="() => document.body.scrollWidth > window.innerWidth"
       )

       if has_horizontal_scroll:
           responsive_issues.append({
               "device": size['device'],
               "issue": "Horizontal scrollbar detected"
           })
   ```

### 6.4 æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ

#### 6.4.1 æŠ¥å‘Šç»“æ„

**æ–‡ä»¶ä½ç½®ï¼š** `<project-root>/docs/test-report.md`

**å†…å®¹ç¤ºä¾‹ï¼š**

```markdown
# ç½‘ç«™åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š

**é¡¹ç›®åç§°ï¼š** Browns Bay Language School
**æµ‹è¯•æ—¥æœŸï¼š** 2025-11-02
**æµ‹è¯•å·¥å…·ï¼š** Chrome DevTools MCP + website_tester Agent
**æµ‹è¯• URLï¼š** http://localhost:8000

---

## æµ‹è¯•æ‘˜è¦

| æµ‹è¯•ç±»åˆ« | æµ‹è¯•é¡¹ | é€šè¿‡ | å¤±è´¥ | é€šè¿‡ç‡ |
|---------|--------|------|------|--------|
| å¯¼èˆªåŠŸèƒ½ | 12 | 12 | 0 | 100% |
| æ ç›®é¡µé¢ | 12 | 11 | 1 | 92% |
| å›¾ç‰‡åŠ è½½ | 18 | 16 | 2 | 89% |
| è¡¨å•åŠŸèƒ½ | 3 | 3 | 0 | 100% |
| å“åº”å¼è®¾è®¡ | 3 | 2 | 1 | 67% |
| é“¾æ¥æœ‰æ•ˆæ€§ | 24 | 23 | 1 | 96% |
| **æ€»è®¡** | **72** | **67** | **5** | **93%** |

---

## å‘ç°çš„é—®é¢˜

### ğŸ”´ ä¸¥é‡é—®é¢˜ï¼ˆé˜»å¡æ€§ï¼‰

**æ— **

### ğŸŸ  ä¸€èˆ¬é—®é¢˜

#### é—®é¢˜ 1: è¯¾ç¨‹è¯¦æƒ…é¡µå›¾ç‰‡ç¼ºå¤±

- **ä½ç½®ï¼š** /courses/ielts-preparation
- **æè¿°ï¼š** è¯¾ç¨‹è¯¦æƒ…é¡µä¸»å›¾æ— æ³•åŠ è½½ï¼Œè¿”å› 404 é”™è¯¯
- **æˆªå›¾ï¼š** ![](test-screenshots/issue-1.png)
- **å½±å“ï¼š** ç”¨æˆ·ä½“éªŒä¸ä½³
- **åŸå› ï¼š** å›¾ç‰‡æ–‡ä»¶åä¸åŒ¹é…ï¼Œæ•°æ®åº“ä¸­ä¸º `course-ielts.jpg`ï¼Œå®é™…æ–‡ä»¶ä¸º `course-ielts-preparation.jpg`
- **ä¿®å¤å»ºè®®ï¼š** é‡å‘½åå›¾ç‰‡æ–‡ä»¶æˆ–æ›´æ–°æ•°æ®åº“è®°å½•

#### é—®é¢˜ 2: ç§»åŠ¨ç«¯é¦–é¡µ hero å›¾ç‰‡å˜å½¢

- **ä½ç½®ï¼š** é¦–é¡µ Hero Sectionï¼ˆç§»åŠ¨ç«¯ï¼‰
- **æè¿°ï¼š** 375x667 åˆ†è¾¨ç‡ä¸‹ï¼Œhero å›¾ç‰‡è¢«æ‹‰ä¼¸å˜å½¢
- **æˆªå›¾ï¼š** ![](test-screenshots/issue-2.png)
- **å½±å“ï¼š** ç§»åŠ¨ç«¯è§†è§‰æ•ˆæœå·®
- **åŸå› ï¼š** CSS æœªè®¾ç½® `object-fit: cover`
- **ä¿®å¤å»ºè®®ï¼š** åœ¨ `.hero img` æ ·å¼ä¸­æ·»åŠ  `object-fit: cover`

#### é—®é¢˜ 3: è”ç³»é¡µé¢åœ°å›¾é“¾æ¥é”™è¯¯

- **ä½ç½®ï¼š** /contact-us
- **æè¿°ï¼š** Google Maps é“¾æ¥æŒ‡å‘é”™è¯¯ä½ç½®
- **å½±å“ï¼š** ç”¨æˆ·æ— æ³•æ‰¾åˆ°æ­£ç¡®åœ°å€
- **ä¿®å¤å»ºè®®ï¼š** æ›´æ–°åœ°å›¾åµŒå…¥ä»£ç ä¸ºæ­£ç¡®åæ ‡

### ğŸŸ¡ ä¼˜åŒ–å»ºè®®

#### å»ºè®® 1: ä¼˜åŒ–å›¾ç‰‡åŠ è½½æ€§èƒ½

- **æè¿°ï¼š** Hero banner å›¾ç‰‡å¤§å°ä¸º 1.2MBï¼Œå»ºè®®å‹ç¼©è‡³ < 500KB
- **å·¥å…·ï¼š** ä½¿ç”¨ TinyPNG æˆ– ImageOptim å‹ç¼©

#### å»ºè®® 2: æ·»åŠ åŠ è½½åŠ¨ç”»

- **æè¿°ï¼š** é¡µé¢è·³è½¬æ—¶ç¼ºå°‘è¿‡æ¸¡æ•ˆæœï¼Œå»ºè®®æ·»åŠ  loading åŠ¨ç”»

---

## é€šè¿‡çš„æµ‹è¯•

âœ… æ‰€æœ‰å¯¼èˆªæ é“¾æ¥å·¥ä½œæ­£å¸¸
âœ… å•é¡µå†…å®¹å®Œæ•´æ˜¾ç¤º
âœ… æ–‡ç« åˆ—è¡¨å’Œè¯¦æƒ…é¡µæ­£å¸¸
âœ… è¡¨å•æäº¤å’Œæ•°æ®åº“å†™å…¥æˆåŠŸ
âœ… æ¡Œé¢ç«¯å’Œå¹³æ¿ç«¯å“åº”å¼æ­£å¸¸
âœ… å¤§éƒ¨åˆ†å›¾ç‰‡åŠ è½½æˆåŠŸ

---

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨

1. ä¿®å¤å›¾ç‰‡è·¯å¾„é—®é¢˜ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
2. ä¿®å¤ç§»åŠ¨ç«¯ hero å›¾ç‰‡å˜å½¢ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰
3. æ›´æ–°åœ°å›¾é“¾æ¥ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰
4. ä¼˜åŒ–å›¾ç‰‡å‹ç¼©ï¼ˆä½ä¼˜å…ˆçº§ï¼‰
5. æ·»åŠ åŠ è½½åŠ¨ç”»ï¼ˆä½ä¼˜å…ˆçº§ï¼‰

---

**æµ‹è¯•äººå‘˜ï¼š** website_tester Agent
**å¤æ ¸äººå‘˜ï¼š** (å¾…äººå·¥å¤æ ¸)
```

### 6.5 é—®é¢˜ä¿®å¤

æ ¹æ®æµ‹è¯•æŠ¥å‘Šä¸­å‘ç°çš„é—®é¢˜ï¼Œé€ä¸€ä¿®å¤ï¼š

1. **ä¿®å¤å›¾ç‰‡è·¯å¾„é—®é¢˜**

   ```bash
   # é‡å‘½åæ–‡ä»¶
   mv templates/static/images/course-ielts-preparation.jpg \
      templates/static/images/course-ielts.jpg
   ```

2. **ä¿®å¤ç§»åŠ¨ç«¯å›¾ç‰‡å˜å½¢**

   ç¼–è¾‘ `templates/static/css/main.css`ï¼š

   ```css
   .hero img {
       width: 100%;
       height: 400px;
       object-fit: cover; /* æ–°å¢ */
   }
   ```

3. **æ›´æ–°åœ°å›¾é“¾æ¥**

   ç¼–è¾‘ `templates/single_page.html` æˆ–æ•°æ®åº“ä¸­çš„è”ç³»é¡µé¢å†…å®¹ã€‚

### 6.6 å›å½’æµ‹è¯•

ä¿®å¤é—®é¢˜åï¼Œå†æ¬¡è¿è¡Œ website_tester è¿›è¡Œå›å½’æµ‹è¯•ï¼Œç¡®ä¿ï¼š
- é—®é¢˜å·²ä¿®å¤
- æœªå¼•å…¥æ–°é—®é¢˜

### 6.7 è¾“å‡ºæˆæœ

âœ… **å®Œæˆæ ‡å¿—ï¼š**
- æµ‹è¯•æŠ¥å‘Šå·²ç”Ÿæˆï¼ˆtest-report.mdï¼‰
- æ‰€æœ‰ä¸¥é‡é—®é¢˜å·²ä¿®å¤
- ä¸€èˆ¬é—®é¢˜å·²ä¿®å¤æˆ–è§„åˆ’ä¿®å¤æ—¶é—´
- é€šè¿‡ç‡ â‰¥ 95%
- å®¢æˆ·æˆ–é¡¹ç›®è´Ÿè´£äººéªŒæ”¶é€šè¿‡

---

## å…³é”®æ–‡ä»¶æ ¼å¼è¯´æ˜

### 8.1 init-website.json æ ¼å¼

å®Œæ•´çš„ç½‘ç«™æ•°æ®ç»“æ„é…ç½®æ–‡ä»¶ã€‚

```json
{
  "site_settings": {
    "site_name": "Browns Bay Language School",
    "site_description": "Professional English language school in Browns Bay, Auckland",
    "site_url": "https://brownsbayla nguageschool.nz",
    "contact_email": "info@brownsbayschool.nz",
    "contact_phone": "+64 9 123 4567",
    "address": "123 Beach Road, Browns Bay, Auckland 0630, New Zealand"
  },
  "columns": [
    {
      "name": "Home",
      "slug": "home",
      "column_type": "SINGLE_PAGE",
      "parent_id": null,
      "icon": "home",
      "sort_order": 0,
      "show_in_nav": true,
      "is_enabled": true
    },
    {
      "name": "About Us",
      "slug": "about-us",
      "column_type": "SINGLE_PAGE",
      "parent_id": null,
      "icon": "info",
      "sort_order": 1,
      "show_in_nav": true,
      "is_enabled": true
    },
    {
      "name": "Courses",
      "slug": "courses",
      "column_type": "PRODUCT",
      "parent_id": null,
      "icon": "book",
      "sort_order": 2,
      "show_in_nav": true,
      "is_enabled": true
    },
    {
      "name": "News",
      "slug": "news",
      "column_type": "POST",
      "parent_id": null,
      "icon": "newspaper",
      "sort_order": 3,
      "show_in_nav": true,
      "is_enabled": true
    }
  ],
  "single_pages": [
    {
      "column_slug": "home",
      "title": "Welcome to Browns Bay Language School",
      "subtitle": "Your journey to English fluency starts here",
      "content_html": "<section><h2>About Our School</h2><p>We are a professional English language school...</p></section>",
      "hero_media_filename": "hero-banner.jpg",
      "seo_title": "Browns Bay Language School - Professional English Courses",
      "seo_description": "Learn English in Browns Bay, Auckland. IELTS preparation, general English, and business English courses.",
      "status": "published"
    },
    {
      "column_slug": "about-us",
      "title": "About Browns Bay Language School",
      "subtitle": "Excellence in English Education Since 2010",
      "content_html": "<h2>Our Mission</h2><p>To provide high-quality English language education...</p>",
      "hero_media_filename": "about-hero.jpg",
      "seo_title": "About Us - Browns Bay Language School",
      "seo_description": "Learn about our mission, values, and experienced teaching team.",
      "status": "published"
    }
  ],
  "posts": [
    {
      "column_slug": "news",
      "title": "New Semester Starting in March 2025",
      "slug": "new-semester-march-2025",
      "summary": "We are excited to announce our new semester starting on March 1st, 2025...",
      "content_html": "<p>Full article content here...</p>",
      "cover_media_filename": "news-new-semester.jpg",
      "is_recommended": true,
      "status": "published",
      "seo_title": "New Semester Starting March 2025 | Browns Bay Language School",
      "seo_description": "Enroll now for our new semester starting March 1st, 2025.",
      "published_at": "2025-01-15T10:00:00",
      "categories": ["School News"]
    }
  ],
  "products": [
    {
      "column_slug": "courses",
      "name": "General English",
      "slug": "general-english",
      "summary": "Build your English foundation with our comprehensive General English course",
      "description_html": "<h3>Course Overview</h3><p>Our General English course covers...</p>",
      "cover_media_filename": "course-general-english.jpg",
      "price": 350.00,
      "price_unit": "per week",
      "is_featured": true,
      "status": "published",
      "seo_title": "General English Course - Browns Bay Language School",
      "seo_description": "Improve your English skills with our General English course. Small classes, experienced teachers.",
      "specifications": {
        "Duration": "1-48 weeks",
        "Class Size": "Maximum 12 students",
        "Levels": "Beginner to Advanced",
        "Schedule": "Monday to Friday, 9:00 AM - 3:00 PM"
      }
    },
    {
      "column_slug": "courses",
      "name": "IELTS Preparation",
      "slug": "ielts-preparation",
      "summary": "Achieve your target IELTS score with our specialized preparation course",
      "description_html": "<h3>Course Overview</h3><p>Our IELTS Preparation course...</p>",
      "cover_media_filename": "course-ielts.jpg",
      "price": 400.00,
      "price_unit": "per week",
      "is_featured": true,
      "status": "published",
      "seo_title": "IELTS Preparation Course - Browns Bay Language School",
      "seo_description": "Get ready for your IELTS exam with expert tutors. High success rates.",
      "specifications": {
        "Duration": "4-12 weeks",
        "Class Size": "Maximum 10 students",
        "Levels": "Intermediate to Advanced",
        "Schedule": "Monday to Friday, 9:00 AM - 1:00 PM"
      }
    }
  ],
  "teachers": [
    {
      "name": "Sarah Johnson",
      "title": "Head Teacher - IELTS Specialist",
      "photo_filename": "teacher-portrait-1.jpg",
      "bio": "Sarah has over 15 years of experience teaching English and specializes in IELTS preparation...",
      "qualifications": "CELTA, Trinity DipTESOL, MA in Applied Linguistics",
      "specialties": "IELTS, Academic English, Business English",
      "email": "sarah.johnson@brownsbayschool.nz",
      "sort_order": 1,
      "is_active": true
    }
  ],
  "testimonials": [
    {
      "student_name": "Li Wei",
      "student_photo_filename": "student-success-1.jpg",
      "course_name": "IELTS Preparation",
      "rating": 5,
      "content": "I achieved a band score of 7.5 thanks to the excellent teaching at Browns Bay Language School...",
      "is_featured": true,
      "status": "approved"
    }
  ],
  "faqs": [
    {
      "category": "Enrollment",
      "question": "How do I enroll in a course?",
      "answer": "You can enroll online through our website or visit our office in person. We require a completed enrollment form and proof of identity.",
      "sort_order": 1,
      "is_visible": true
    },
    {
      "category": "Courses",
      "question": "What is the minimum duration for a course?",
      "answer": "Most of our courses have a minimum duration of 4 weeks, though some intensive programs may be shorter.",
      "sort_order": 2,
      "is_visible": true
    }
  ]
}
```

**å­—æ®µè¯´æ˜ï¼š**

- **site_settings** - ç«™ç‚¹å…¨å±€é…ç½®
- **columns** - æ ç›®å®šä¹‰æ•°ç»„
  - `column_type` å–å€¼ï¼š`SINGLE_PAGE`, `POST`, `PRODUCT`, `CUSTOM`
  - `parent_id` ä¸º `null` è¡¨ç¤ºé¡¶çº§æ ç›®
- **single_pages** - å•é¡µå†…å®¹æ•°ç»„
  - `column_slug` å…³è”åˆ°å¯¹åº”æ ç›®
  - `hero_media_filename` ä»…å¡«æ–‡ä»¶åï¼Œè·¯å¾„è‡ªåŠ¨è¡¥å…¨ä¸º `/static/images/`
- **posts** - æ–‡ç« /æ–°é—»æ•°ç»„
  - `published_at` ä½¿ç”¨ ISO 8601 æ ¼å¼
  - `categories` ä¸ºåˆ†ç±»åç§°æ•°ç»„ï¼ˆä¼šè‡ªåŠ¨åˆ›å»ºåˆ†ç±»ï¼‰
- **products** - äº§å“/æœåŠ¡æ•°ç»„
  - `specifications` ä¸º JSON å¯¹è±¡ï¼Œå­˜å‚¨äº§å“è§„æ ¼
- **teachers** - æ•™å¸ˆå›¢é˜Ÿæ•°ç»„ï¼ˆæ–°å¢æ¨¡å—ç¤ºä¾‹ï¼‰
  - `photo_filename` ä»…å¡«æ–‡ä»¶åï¼Œè·¯å¾„è‡ªåŠ¨è¡¥å…¨
  - `is_active` æ§åˆ¶æ˜¯å¦åœ¨å‰å°æ˜¾ç¤º
- **testimonials** - å­¦ç”Ÿè¯„ä»·æ•°ç»„ï¼ˆæ–°å¢æ¨¡å—ç¤ºä¾‹ï¼‰
  - `status` å–å€¼ï¼š`pending`, `approved`, `rejected`
  - `rating` ä¸º 1-5 çš„æ•´æ•°
- **faqs** - å¸¸è§é—®é¢˜æ•°ç»„ï¼ˆæ–°å¢æ¨¡å—ç¤ºä¾‹ï¼‰
  - `category` ç”¨äºé—®é¢˜åˆ†ç±»
  - `sort_order` æ§åˆ¶æ˜¾ç¤ºé¡ºåº

### 8.2 init-images.json æ ¼å¼

å›¾ç‰‡ç”Ÿæˆé…ç½®æ–‡ä»¶ã€‚

```json
{
  "output_dir": "templates/static/images",
  "images": [
    {
      "filename": "hero-banner.jpg",
      "prompt": "Modern language school classroom in Browns Bay, Auckland, New Zealand. Bright and airy space with large windows overlooking the ocean. Students from diverse backgrounds studying together. Professional and welcoming atmosphere. High-quality educational environment. Photorealistic style.",
      "priority": "high"
    },
    {
      "filename": "course-general-english.jpg",
      "prompt": "Small group of international students in an English class. Teacher at whiteboard explaining grammar. Engaged students taking notes. Modern classroom setting. Natural lighting. Diverse ethnicities. Professional educational photography style.",
      "priority": "high"
    },
    {
      "filename": "course-ielts.jpg",
      "prompt": "IELTS exam preparation class. Students practicing speaking test in pairs. Confident and focused expressions. Modern language school environment in New Zealand. Professional educational setting. Photorealistic style.",
      "priority": "high"
    },
    {
      "filename": "teacher-portrait-1.jpg",
      "prompt": "Professional English teacher portrait. Middle-aged woman with friendly smile. Smart casual attire. Office or classroom background. Natural lighting. High-quality professional headshot. Photorealistic style.",
      "priority": "medium"
    },
    {
      "filename": "facility-classroom.jpg",
      "prompt": "Modern language school classroom interior. Comfortable seating arrangement for 12 students. Interactive whiteboard. Natural light from large windows. Clean and professional educational space. New Zealand educational institution style.",
      "priority": "medium"
    },
    {
      "filename": "student-success-1.jpg",
      "prompt": "Happy international student holding IELTS certificate with high score. Proud and joyful expression. Language school background. Success and achievement theme. Photorealistic style.",
      "priority": "low"
    },
    {
      "filename": "news-placeholder-1.jpg",
      "prompt": "Language school event photo. Students and teachers celebrating graduation ceremony. Diverse group of people. Festive and happy atmosphere. Professional event photography.",
      "priority": "low"
    }
  ]
}
```

**å­—æ®µè¯´æ˜ï¼š**

- **output_dir** - å›¾ç‰‡è¾“å‡ºç›®å½•ï¼ˆç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•ï¼‰
- **images** - å›¾ç‰‡é…ç½®æ•°ç»„
  - **filename** - è¾“å‡ºæ–‡ä»¶åï¼ˆåŒ…å«æ‰©å±•åï¼‰
  - **prompt** - å›¾ç‰‡ç”Ÿæˆæç¤ºè¯ï¼ˆè‹±æ–‡ï¼Œå°½å¯èƒ½è¯¦ç»†æè¿°ï¼‰
  - **priority** - ä¼˜å…ˆçº§ (`high`, `medium`, `low`)
    - `high` - é¦–é¡µå’Œæ ¸å¿ƒåŠŸèƒ½å›¾ç‰‡
    - `medium` - æ ç›®é…å›¾ã€å†…å®¹å›¾
    - `low` - å ä½å›¾ã€å¤‡ç”¨å›¾

**æç¤ºè¯ç¼–å†™å»ºè®®ï¼š**

1. **å…·ä½“åœºæ™¯æè¿°**ï¼šæ˜ç¡®åœ°ç‚¹ã€äººç‰©ã€åŠ¨ä½œ
2. **é£æ ¼è¦æ±‚**ï¼šPhotorealistic, Professional, Modern ç­‰
3. **æ°›å›´/æƒ…ç»ª**ï¼šWelcoming, Confident, Happy ç­‰
4. **æŠ€æœ¯è¦æ±‚**ï¼šNatural lighting, High-quality ç­‰
5. **æ–‡åŒ–é€‚é…**ï¼šNew Zealand, Auckland, Diverse ç­‰å…³é”®è¯

---

## å¸¸è§é—®é¢˜ä¸æ³¨æ„äº‹é¡¹

### 9.1 å¸¸è§é—®é¢˜

#### Q1: å›¾ç‰‡ç”Ÿæˆå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¯å¢ƒå˜é‡ `ZHIPU_KEY` æ˜¯å¦è®¾ç½®æ­£ç¡®
2. API é…é¢æ˜¯å¦ç”¨å°½ï¼ˆç™»å½•æ™ºè°± AI æ§åˆ¶å°æŸ¥çœ‹ï¼‰
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
4. æç¤ºè¯æ˜¯å¦åŒ…å«æ•æ„Ÿå†…å®¹ï¼ˆä¼šè¢« API æ‹’ç»ï¼‰

**è§£å†³æ–¹æ³•ï¼š**
- é‡æ–°è¿è¡Œè„šæœ¬ä¼šè‡ªåŠ¨è·³è¿‡å·²ç”Ÿæˆçš„å›¾ç‰‡
- æ‰‹åŠ¨ä¿®æ”¹ `init-images.json` ä¸­æœ‰é—®é¢˜çš„æç¤ºè¯
- ä¸´æ—¶ä½¿ç”¨å ä½å›¾ï¼Œåç»­æ‰‹åŠ¨æ›¿æ¢

#### Q2: æ•°æ®åº“åˆå§‹åŒ–æ—¶å‡ºç°å¤–é”®é”™è¯¯ï¼Ÿ

**A:** é€šå¸¸æ˜¯æ’å…¥é¡ºåºé—®é¢˜ã€‚ç¡®ä¿ï¼š
1. å…ˆæ’å…¥çˆ¶æ ç›®ï¼Œå†æ’å…¥å­æ ç›®
2. å…ˆæ’å…¥æ ç›®ï¼Œå†æ’å…¥æ ç›®å†…å®¹ï¼ˆå•é¡µã€æ–‡ç« ã€äº§å“ï¼‰
3. å…ˆæ’å…¥åª’ä½“æ–‡ä»¶ï¼Œå†å…³è”åˆ°å†…å®¹

#### Q3: æ¨¡æ¿æ¸²æŸ“é”™è¯¯ï¼Œæ˜¾ç¤º 500 é”™è¯¯ï¼Ÿ

**A:** æ£€æŸ¥ï¼š
1. æ•°æ®åº“ä¸­æ˜¯å¦æœ‰å¯¹åº”æ•°æ®
2. æ¨¡æ¿è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼ˆJinja2ï¼‰
3. è·¯ç”±ä¸­ä¼ é€’çš„å˜é‡åæ˜¯å¦ä¸æ¨¡æ¿ä¸€è‡´
4. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ `logs/app.log` è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

#### Q4: å›¾ç‰‡è·¯å¾„é—®é¢˜ï¼Œå›¾ç‰‡æ— æ³•æ˜¾ç¤ºï¼Ÿ

**A:** ç¡®è®¤ï¼š
1. å›¾ç‰‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨äº `templates/static/images/` ç›®å½•
2. æ¨¡æ¿ä¸­è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼š`/static/images/filename.jpg`ï¼ˆä»¥ `/` å¼€å¤´ï¼‰
3. FastAPI é™æ€æ–‡ä»¶æŒ‚è½½æ˜¯å¦æ­£ç¡®é…ç½®
4. æ•°æ®åº“ä¸­ `media_file` è¡¨çš„ `path_original` å­—æ®µå€¼æ˜¯å¦æ­£ç¡®

#### Q5: ç½‘ç«™åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤ºå¼‚å¸¸ï¼Ÿ

**A:** æ£€æŸ¥ï¼š
1. HTML `<head>` ä¸­æ˜¯å¦æœ‰ viewport meta æ ‡ç­¾
2. CSS æ˜¯å¦ä½¿ç”¨å“åº”å¼å•ä½ï¼ˆrem, %, vw/vhï¼‰
3. æ˜¯å¦ä½¿ç”¨ CSS media queries
4. å›¾ç‰‡æ˜¯å¦è®¾ç½®äº† `max-width: 100%`

### 9.2 æœ€ä½³å®è·µ

#### 9.2.1 é¡¹ç›®ç®¡ç†

1. **ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶**
   - åˆå§‹åŒ– Git ä»“åº“
   - å¿½ç•¥ `instance/database.db`, `venv/`, `logs/` ç­‰è¿è¡Œæ—¶æ–‡ä»¶
   - å®šæœŸæäº¤ä»£ç å˜æ›´

2. **å¤‡ä»½æ•°æ®åº“**
   - åœ¨æ•°æ®åº“åˆå§‹åŒ–å®Œæˆåç«‹å³å¤‡ä»½
   - ä½¿ç”¨ `cp instance/database.db instance/database.db.backup`

3. **æ–‡æ¡£åŒ–**
   - ä¿å­˜å®¢æˆ·éœ€æ±‚æ–‡æ¡£
   - è®°å½•å®šåˆ¶åŒ–ä¿®æ”¹
   - ç»´æŠ¤éƒ¨ç½²æ¸…å•

#### 9.2.2 å¼€å‘è§„èŒƒ

1. **ä»£ç è§„èŒƒ**
   - Python ä»£ç éµå¾ª PEP 8
   - HTML/CSS ä½¿ç”¨ä¸€è‡´çš„ç¼©è¿›ï¼ˆ2 æˆ– 4 ç©ºæ ¼ï¼‰
   - JavaScript ä½¿ç”¨ ESLint æˆ– Prettier

2. **å‘½åè§„èŒƒ**
   - æ ç›® slug ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ï¼ˆkebab-caseï¼‰
   - æ–‡ä»¶åä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦
   - å˜é‡åä½¿ç”¨ snake_caseï¼ˆPythonï¼‰æˆ– camelCaseï¼ˆJavaScriptï¼‰

3. **æ³¨é‡Šè§„èŒƒ**
   - å¤æ‚é€»è¾‘æ·»åŠ æ³¨é‡Š
   - æ¨¡æ¿ä¸­é‡è¦åŒºå—æ·»åŠ æ³¨é‡Š
   - CSS ä¸­æŒ‰æ¨¡å—åˆ†ç»„å¹¶æ³¨é‡Š

#### 9.2.3 æ€§èƒ½ä¼˜åŒ–

1. **å›¾ç‰‡ä¼˜åŒ–**
   - ä½¿ç”¨åˆé€‚çš„å›¾ç‰‡æ ¼å¼ï¼ˆJPEG ç”¨äºç…§ç‰‡ï¼ŒPNG ç”¨äºå›¾æ ‡ï¼‰
   - å‹ç¼©å›¾ç‰‡å¤§å°ï¼ˆ< 500KBï¼‰
   - è€ƒè™‘ä½¿ç”¨ WebP æ ¼å¼

2. **ä»£ç ä¼˜åŒ–**
   - CSS/JavaScript åˆå¹¶å’Œå‹ç¼©
   - ä½¿ç”¨æµè§ˆå™¨ç¼“å­˜
   - å¯ç”¨ Gzip å‹ç¼©

3. **æ•°æ®åº“ä¼˜åŒ–**
   - ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•
   - é¿å… N+1 æŸ¥è¯¢é—®é¢˜
   - ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± 

### 9.3 å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒå˜é‡ç®¡ç†**
   - API å¯†é’¥ä¸è¦ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
   - ä½¿ç”¨ `.env` æ–‡ä»¶ç®¡ç†æ•æ„Ÿé…ç½®
   - `.env` æ–‡ä»¶åŠ å…¥ `.gitignore`

2. **æ•°æ®éªŒè¯**
   - è¡¨å•æäº¤æ•°æ®å¿…é¡»éªŒè¯
   - é˜²æ­¢ SQL æ³¨å…¥ï¼ˆä½¿ç”¨ ORMï¼‰
   - é˜²æ­¢ XSS æ”»å‡»ï¼ˆè½¬ä¹‰ç”¨æˆ·è¾“å…¥ï¼‰

3. **æƒé™æ§åˆ¶**
   - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å¼ºå¯†ç 
   - é™åˆ¶æ–‡ä»¶ä¸Šä¼ ç±»å‹å’Œå¤§å°
   - åå°ç®¡ç†æ·»åŠ è®¤è¯

---

## é™„å½•

### 10.1 æ¶‰åŠçš„å·¥å…·å’ŒæŠ€æœ¯

| å·¥å…·/æŠ€æœ¯ | ç”¨é€” | å®˜æ–¹æ–‡æ¡£ |
|----------|------|---------|
| **Python 3.9+** | ç¼–ç¨‹è¯­è¨€ | https://www.python.org/ |
| **FastAPI** | Web æ¡†æ¶ | https://fastapi.tiangolo.com/ |
| **SQLAlchemy** | ORM æ•°æ®åº“å·¥å…· | https://www.sqlalchemy.org/ |
| **Alembic** | æ•°æ®åº“è¿ç§»å·¥å…· | https://alembic.sqlalchemy.org/ |
| **Jinja2** | æ¨¡æ¿å¼•æ“ | https://jinja.palletsprojects.com/ |
| **SQLite** | åµŒå…¥å¼æ•°æ®åº“ | https://www.sqlite.org/ |
| **Zhipu AI CogView** | å›¾ç‰‡ç”Ÿæˆ API | https://open.bigmodel.cn/ |
| **Chrome DevTools** | æµè§ˆå™¨æµ‹è¯•å·¥å…· | https://developer.chrome.com/docs/devtools/ |

### 10.2 AI Agents è¯´æ˜

æœ¬æµç¨‹ä½¿ç”¨äº†ä¸‰ä¸ªä¸“ç”¨ AI Agentï¼š

| Agent åç§° | åŠŸèƒ½ | æ‰€éœ€å·¥å…· |
|-----------|------|---------|
| **website_planner** | ç½‘ç«™è§„åˆ’ä¸“å®¶ï¼Œè´Ÿè´£åˆ†æéœ€æ±‚ã€è§„åˆ’æ ç›®ã€ç”Ÿæˆå†…å®¹ | Read, Write, WebSearch, WebFetch |
| **website_developer** | ç½‘ç«™å¼€å‘ä¸“å®¶ï¼Œè´Ÿè´£ç¼–å†™ Jinja2 æ¨¡æ¿å’Œå‰ç«¯ä»£ç  | Read, Write, Edit, Bash, Grep, Glob |
| **website_tester** | ç½‘ç«™æµ‹è¯•ä¸“å®¶ï¼Œä½¿ç”¨ Chrome DevTools è¿›è¡ŒåŠŸèƒ½æµ‹è¯• | Bash, Read, Chrome DevTools MCP |

### 10.3 é¡¹ç›®ç»“æ„å®Œæ•´ç¤ºä¾‹

```
brownsbay-language-school.nz/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py              # åŸºç¡€æ¨¡å‹ç±»
â”‚   â”‚   â”œâ”€â”€ site.py              # æ ç›®ã€å•é¡µã€ç«™ç‚¹é…ç½®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ post.py              # æ–‡ç« ã€åˆ†ç±»æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ product.py           # äº§å“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ media.py             # åª’ä½“æ–‡ä»¶æ¨¡å‹
â”‚   â”‚   â””â”€â”€ contact.py           # è”ç³»è¡¨å•æ¨¡å‹
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ frontend.py          # å‰å°è·¯ç”±
â”‚   â”‚   â””â”€â”€ health.py            # å¥åº·æ£€æŸ¥
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ site_service.py      # ç«™ç‚¹æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ post_service.py      # æ–‡ç« æœåŠ¡
â”‚   â”‚   â””â”€â”€ product_service.py   # äº§å“æœåŠ¡
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ cache.py             # ç¼“å­˜å·¥å…·
â”‚   â”‚   â”œâ”€â”€ logger.py            # æ—¥å¿—å·¥å…·
â”‚   â”‚   â””â”€â”€ template_helpers.py  # æ¨¡æ¿è¾…åŠ©å‡½æ•°
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ error_handlers.py    # é”™è¯¯å¤„ç†ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ schemas/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ requests.py          # è¯·æ±‚æ•°æ®éªŒè¯
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                  # åº”ç”¨å·¥å‚
â”‚   â”œâ”€â”€ config.py                # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ database.py              # æ•°æ®åº“è¿æ¥
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ base.html                # åŸºç¡€å¸ƒå±€æ¨¡æ¿
â”‚   â”œâ”€â”€ index.html               # é¦–é¡µ
â”‚   â”œâ”€â”€ single_page.html         # å•é¡µæ¨¡æ¿
â”‚   â”œâ”€â”€ post_list.html           # æ–‡ç« åˆ—è¡¨
â”‚   â”œâ”€â”€ post_detail.html         # æ–‡ç« è¯¦æƒ…
â”‚   â”œâ”€â”€ product_list.html        # äº§å“åˆ—è¡¨
â”‚   â”œâ”€â”€ product_detail.html      # äº§å“è¯¦æƒ…
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ navbar.html          # å¯¼èˆªæ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ footer.html          # é¡µè„šç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ breadcrumb.html      # é¢åŒ…å±‘å¯¼èˆª
â”‚   â”‚   â””â”€â”€ contact_form.html    # è”ç³»è¡¨å•ç»„ä»¶
â”‚   â””â”€â”€ static/
â”‚       â”œâ”€â”€ css/
â”‚       â”‚   â””â”€â”€ main.css         # ä¸»æ ·å¼è¡¨
â”‚       â”œâ”€â”€ js/
â”‚       â”‚   â””â”€â”€ main.js          # ä¸»è„šæœ¬
â”‚       â””â”€â”€ images/              # å›¾ç‰‡ç›®å½•
â”‚           â”œâ”€â”€ hero-banner.jpg
â”‚           â”œâ”€â”€ course-general-english.jpg
â”‚           â””â”€â”€ ...
â”œâ”€â”€ migrations/
â”‚   â”œâ”€â”€ versions/
â”‚   â”‚   â””â”€â”€ xxxx_initial.py      # åˆå§‹è¿ç§»è„šæœ¬
â”‚   â””â”€â”€ env.py
â”œâ”€â”€ instance/
â”‚   â”œâ”€â”€ database.db              # SQLite æ•°æ®åº“
â”‚   â””â”€â”€ media/                   # ä¸Šä¼ çš„åª’ä½“æ–‡ä»¶
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ app.log                  # åº”ç”¨æ—¥å¿—
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ init-website.json        # ç½‘ç«™åˆå§‹åŒ–æ•°æ®
â”‚   â””â”€â”€ init-images.json         # å›¾ç‰‡ç”Ÿæˆé…ç½®
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ design-guide.md          # è®¾è®¡æŒ‡å—
â”‚   â””â”€â”€ test-report.md           # æµ‹è¯•æŠ¥å‘Š
â”œâ”€â”€ app.py                        # åº”ç”¨å…¥å£
â”œâ”€â”€ requirements.txt              # Python ä¾èµ–
â”œâ”€â”€ alembic.ini                  # Alembic é…ç½®
â”œâ”€â”€ site.yaml                    # ç«™ç‚¹é…ç½®
â”œâ”€â”€ .env                         # ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤åˆ° Gitï¼‰
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

### 10.4 ä¾èµ–åŒ…åˆ—è¡¨ï¼ˆrequirements.txtï¼‰

```
fastapi==0.104.1
uvicorn==0.24.0
sqlalchemy==2.0.23
alembic==1.12.1
jinja2==3.1.2
python-multipart==0.0.6
pydantic==2.5.0
pydantic-settings==2.1.0
requests==2.31.0
pillow==10.1.0
pyyaml==6.0.1
python-dotenv==1.0.0
```

### 10.5 æ—¶é—´ä¸æˆæœ¬ä¼°ç®—

| é˜¶æ®µ | æ—¶é—´ä¼°ç®— | è‡ªåŠ¨åŒ–ç¨‹åº¦ | äººå·¥ä»‹å…¥ |
|------|---------|-----------|---------|
| æ­¥éª¤ 1: é¡¹ç›®åˆå§‹åŒ– | 5-10 åˆ†é’Ÿ | 90% | è¿è¡Œå‘½ä»¤ã€æ£€æŸ¥ç»“æœ |
| æ­¥éª¤ 2: ç½‘ç«™è§„åˆ’ï¼ˆå«æ¨¡å—è®¾è®¡ï¼‰ | 40-90 åˆ†é’Ÿ | 75% | æä¾›éœ€æ±‚ã€å®¡æ ¸æ–¹æ¡ˆã€ç¡®è®¤æ–°æ¨¡å— |
| æ­¥éª¤ 3: æ•°æ®åº“åˆå§‹åŒ– | 2-5 åˆ†é’Ÿ | 95% | éªŒè¯æ•°æ® |
| æ­¥éª¤ 4: å›¾ç‰‡ç”Ÿæˆ | 5-10 åˆ†é’Ÿ | 100% | æ— ï¼ˆè‡ªåŠ¨æ‰§è¡Œï¼‰ |
| æ­¥éª¤ 5: æ¨¡æ¿å¼€å‘ | 1-2 å°æ—¶ | 70% | å®¡æ ¸ä»£ç ã€å®šåˆ¶è°ƒæ•´ |
| æ­¥éª¤ 6: åŠŸèƒ½æµ‹è¯• | 30-60 åˆ†é’Ÿ | 80% | å®¡æ ¸æŠ¥å‘Šã€ä¿®å¤ bug |
| **æ€»è®¡** | **2.5-4.5 å°æ—¶** | **80%** | å…³é”®å†³ç­–ã€è´¨é‡æŠŠæ§ |

**æˆæœ¬èŠ‚çœï¼š**
- ä¼ ç»Ÿæ‰‹å·¥æ–¹å¼ï¼š20-40 å°æ—¶
- è‡ªåŠ¨åŒ–æ–¹å¼ï¼š2.5-4 å°æ—¶
- **æ•ˆç‡æå‡ï¼š85-90%**

---

## æ€»ç»“

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†ä½¿ç”¨ docms-scaffold è„šæ‰‹æ¶è‡ªåŠ¨åŒ–ç”Ÿæˆæ–°è¥¿å…°ä¸­å°ä¼ä¸šç½‘ç«™çš„å®Œæ•´æµç¨‹ã€‚é€šè¿‡å…­ä¸ªä¸»è¦æ­¥éª¤çš„ç³»ç»ŸåŒ–æ‰§è¡Œï¼Œé…åˆ AI Agents å’Œè‡ªåŠ¨åŒ–å·¥å…·ï¼Œå¯ä»¥å°†ä¼ ç»Ÿéœ€è¦æ•°å¤©çš„ç½‘ç«™å»ºè®¾å·¥ä½œå‹ç¼©è‡³ 2-4 å°æ—¶å®Œæˆï¼Œå¤§å¹…æå‡å¼€å‘æ•ˆç‡ã€‚

**æ ¸å¿ƒä¼˜åŠ¿ï¼š**

1. âœ… **æ ‡å‡†åŒ–æµç¨‹** - æ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ˜ç¡®çš„è¾“å…¥ã€è¾“å‡ºå’ŒéªŒæ”¶æ ‡å‡†
2. âœ… **é«˜åº¦è‡ªåŠ¨åŒ–** - 82% çš„å·¥ä½œç”±è„šæœ¬å’Œ AI è‡ªåŠ¨å®Œæˆ
3. âœ… **çµæ´»å¯å®šåˆ¶** - æ”¯æŒæ ¹æ®ä¸åŒè¡Œä¸šéœ€æ±‚è°ƒæ•´æ¨¡å—ç»„åˆ
4. âœ… **è´¨é‡ä¿è¯** - å†…ç½®æµ‹è¯•æµç¨‹ï¼Œç¡®ä¿äº¤ä»˜è´¨é‡
5. âœ… **æ–‡æ¡£å®Œå–„** - é…ç½®æ–‡ä»¶ã€è®¾è®¡æŒ‡å—ã€æµ‹è¯•æŠ¥å‘Šä¸€åº”ä¿±å…¨

**é€‚ç”¨åœºæ™¯ï¼š**

- æ–°è¥¿å…°ä¸­å°ä¼ä¸šå®˜ç½‘
- æ•™è‚²åŸ¹è®­æœºæ„ç½‘ç«™
- ä¸“ä¸šæœåŠ¡å…¬å¸ç½‘ç«™
- é¤é¥®é…’åº—å±•ç¤ºç½‘ç«™
- äº§å“/æœåŠ¡ç›®å½•ç½‘ç«™

**ä¸‹ä¸€æ­¥æ”¹è¿›æ–¹å‘ï¼š**

1. å¼€å‘ Web ç•Œé¢ç®¡ç†åå°
2. é›†æˆæ”¯ä»˜ç½‘å…³
3. æ·»åŠ å¤šè¯­è¨€æ”¯æŒ
4. å®ç° SEO è‡ªåŠ¨ä¼˜åŒ–
5. å¢åŠ ç½‘ç«™æ€§èƒ½ç›‘æ§

---

**æ–‡æ¡£ç»´æŠ¤ï¼š**

- å¦‚æµç¨‹æœ‰æ›´æ–°ï¼Œè¯·åŠæ—¶ä¿®æ”¹æœ¬æ–‡æ¡£
- å¦‚å‘ç°é—®é¢˜æˆ–æœ‰æ”¹è¿›å»ºè®®ï¼Œè¯·æäº¤åé¦ˆ

**åé¦ˆæ¸ é“ï¼š** [é¡¹ç›® GitHub Issues]

---

**é™„åŠ èµ„æºï¼š**

- ğŸ“„ [ç½‘ç«™ç³»ç»Ÿæ¨¡å—è®¾è®¡æ–¹æ¡ˆ.md](./ç½‘ç«™ç³»ç»Ÿæ¨¡å—è®¾è®¡æ–¹æ¡ˆ.md)
- ğŸ“„ [æ–°è¥¿å…°ä¸­å°ä¼ä¸šç½‘ç«™æ¨¡æ¿ç ”ç©¶æŠ¥å‘Š.md](./æ–°è¥¿å…°ä¸­å°ä¼ä¸šç½‘ç«™æ¨¡æ¿ç ”ç©¶æŠ¥å‘Š.md)
- ğŸ“„ [docms-scaffold README.md](../docms-scaffold/README.md)
- ğŸ”— [FastAPI å®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- ğŸ”— [Jinja2 å®˜æ–¹æ–‡æ¡£](https://jinja.palletsprojects.com/)

---

**ç‰ˆæœ¬å†å²ï¼š**

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹å†…å®¹ | ä½œè€… |
|------|------|---------|------|
| 1.0 | 2025-11-02 | åˆå§‹ç‰ˆæœ¬ | Claude (AI Assistant) |
| 1.1 | 2025-11-02 | **é‡è¦æ›´æ–°**ï¼šåœ¨æ­¥éª¤äºŒä¸­å¢åŠ æ¨¡å—è®¾è®¡ç¯èŠ‚ï¼ŒåŒ…æ‹¬ï¼š<br>- æ–°å¢"æ¨¡å—è®¾è®¡ä¸æ‰©å±•"å­æ­¥éª¤<br>- æä¾›å¸¸è§æ–°å¢æ¨¡å—ç¤ºä¾‹ï¼ˆBookingã€Teacherã€Testimonialã€FAQï¼‰<br>- å¢åŠ æ•°æ®åº“è¿ç§»æ‰§è¡Œè¯´æ˜<br>- æ›´æ–° init-website.json æ ¼å¼ï¼ŒåŒ…å«æ–°æ¨¡å—æ•°æ®ç¤ºä¾‹<br>- æ›´æ–°æµç¨‹å›¾å’Œè¾“å‡ºæ–‡ä»¶è¯´æ˜ | Claude (AI Assistant) |

---

*æœ¬æ–‡æ¡£ç”± AI è¾…åŠ©ç”Ÿæˆï¼Œç»äººå·¥å®¡æ ¸ç¡®è®¤ã€‚*
