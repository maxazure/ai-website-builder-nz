# Docms CMS è„šæ‰‹æ¶

> ä½¿ç”¨ LLM å¿«é€Ÿç”Ÿæˆä¼ä¸šå®˜ç½‘çš„è„šæ‰‹æ¶å·¥å…·

## ğŸ¯ é¡¹ç›®ç‰¹ç‚¹

- **å¿«é€Ÿç”Ÿæˆ**ï¼š5 åˆ†é’Ÿå†…åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ä¼ä¸šå®˜ç½‘
- **AI é©±åŠ¨**ï¼šä½¿ç”¨ LLMï¼ˆClaudeã€GPT-4ï¼‰è‡ªåŠ¨ç”Ÿæˆå†…å®¹å’Œæ¨¡æ¿
- **ä½ Token æ¶ˆè€—**ï¼šä¼˜åŒ–çš„æç¤ºè¯è®¾è®¡ï¼Œæœ€å°åŒ– Token ä½¿ç”¨
- **é›¶ä»£ç é…ç½®**ï¼šé€šè¿‡ç®€å•çš„äº¤äº’å¼é—®ç­”å³å¯å®Œæˆé…ç½®
- **å¯æ‰©å±•**ï¼šåŸºäº FastAPI + SQLAlchemyï¼Œæ˜“äºäºŒæ¬¡å¼€å‘

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
docms-scaffold/                    # è„šæ‰‹æ¶é¡¹ç›®ï¼ˆå¯å¤ç”¨ï¼‰
â”œâ”€â”€ docms/                         # æ ¸å¿ƒ CMS å¼•æ“
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ app.py                     # FastAPI åº”ç”¨å·¥å‚
â”‚   â”œâ”€â”€ config.py                  # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ models/                    # ORM æ¨¡å‹
â”‚   â”œâ”€â”€ services/                  # ä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ routes/                    # è·¯ç”±
â”‚   â””â”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ cli/                           # CLI å·¥å…·
â”‚   â”œâ”€â”€ create_site.py             # åˆ›å»ºæ–°ç«™ç‚¹
â”‚   â”œâ”€â”€ generate_content.py        # LLM å†…å®¹ç”Ÿæˆ
â”‚   â””â”€â”€ templates/                 # æ¨¡æ¿å’Œæç¤ºè¯
â”‚
â”œâ”€â”€ app/                           # ç°æœ‰åº”ç”¨ä»£ç ï¼ˆå‚è€ƒå®ç°ï¼‰
â”œâ”€â”€ README-SCAFFOLD.md             # æœ¬æ–‡ä»¶
â””â”€â”€ requirements.txt               # ä¾èµ–
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ­¥éª¤ 1ï¼šåˆ›å»ºæ–°ç«™ç‚¹

```bash
# å…‹éš†è„šæ‰‹æ¶é¡¹ç›®
git clone https://github.com/your-repo/docms-scaffold.git
cd docms-scaffold

# åˆ›å»ºæ–°ç«™ç‚¹
python -m cli.create_site --name my-company-site --company "æˆ‘çš„å…¬å¸" --description "ä¼ä¸šå®˜ç½‘"

# è¿›å…¥ç«™ç‚¹ç›®å½•
cd ../my-company-site
```

### æ­¥éª¤ 2ï¼šå®‰è£…ä¾èµ–

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
venv\Scripts\activate  # Windows
# æˆ–
source venv/bin/activate  # Linux/Mac

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### æ­¥éª¤ 3ï¼šä½¿ç”¨ LLM ç”Ÿæˆå†…å®¹

```bash
# è¿è¡Œå†…å®¹ç”Ÿæˆå·¥å…·
python -m cli.generate_content
```

å·¥å…·ä¼šå¼•å¯¼ä½ å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š

1. **æ”¶é›†å…¬å¸ä¿¡æ¯**ï¼ˆäº¤äº’å¼é—®ç­”ï¼‰
   - å…¬å¸åç§°
   - æ‰€å±è¡Œä¸š
   - ä¸»è¦äº§å“/æœåŠ¡
   - ç›®æ ‡å®¢æˆ·
   - äº§å“åˆ†ç±»
   - æ–‡ç« åˆ†ç±»

2. **ç”Ÿæˆæç¤ºè¯**
   - æ•°æ®åº“å†…å®¹æç¤ºè¯ â†’ `prompts/database_prompt.txt`
   - æ¨¡æ¿æ–‡ä»¶æç¤ºè¯ â†’ `prompts/template_prompt.txt`

3. **å‘é€ç»™ LLM**
   - æ‰“å¼€æç¤ºè¯æ–‡ä»¶
   - å¤åˆ¶å†…å®¹åˆ° Claudeã€GPT-4 ç­‰ LLM
   - è·å–ç”Ÿæˆçš„å†…å®¹

4. **ä¿å­˜å†…å®¹**
   - å°† SQL è„šæœ¬ä¿å­˜ä¸º `seed_data.sql`
   - å°†æ¨¡æ¿æ–‡ä»¶ä¿å­˜åˆ° `templates/` ç›®å½•

### æ­¥éª¤ 4ï¼šåˆå§‹åŒ–æ•°æ®åº“

```bash
# è¿è¡Œæ•°æ®åº“è¿ç§»
alembic upgrade head

# å¡«å……æ•°æ®
sqlite3 instance/database.db < seed_data.sql
```

### æ­¥éª¤ 5ï¼šå¯åŠ¨æœåŠ¡å™¨

```bash
python app.py
```

è®¿é—® http://localhost:8000 æŸ¥çœ‹ä½ çš„ç½‘ç«™ï¼

## ğŸ¨ ç”Ÿæˆçš„ç«™ç‚¹åŠŸèƒ½

### å‰å°åŠŸèƒ½ï¼ˆè®¿å®¢å¯è§ï¼‰
- âœ… å“åº”å¼é¦–é¡µ
- âœ… äº§å“åˆ—è¡¨å’Œè¯¦æƒ…é¡µ
- âœ… æ–‡ç« åˆ—è¡¨å’Œè¯¦æƒ…é¡µ
- âœ… å•é¡µï¼ˆå…³äºæˆ‘ä»¬ã€è”ç³»æˆ‘ä»¬ï¼‰
- âœ… è”ç³»è¡¨å•
- âœ… äº§å“/æ–‡ç« åˆ†ç±»ç­›é€‰

### æŠ€æœ¯ç‰¹æ€§
- âœ… FastAPI åç«¯
- âœ… Jinja2 æ¨¡æ¿å¼•æ“ï¼ˆSSRï¼‰
- âœ… SQLite æ•°æ®åº“
- âœ… SQLAlchemy ORM
- âœ… Alembic æ•°æ®åº“è¿ç§»
- âœ… Pydantic æ•°æ®éªŒè¯
- âœ… ç¼“å­˜ä¼˜åŒ–
- âœ… æ•°æ®åº“ç´¢å¼•

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### 1. ä¸ºå®¢æˆ·å¿«é€Ÿæ­å»ºä¼ä¸šå®˜ç½‘

```bash
# åˆ›å»ºç«™ç‚¹
python -m cli.create_site --name client-website --company "å®¢æˆ·å…¬å¸" --description "å®¢æˆ·å®˜ç½‘"

# ç”Ÿæˆå†…å®¹ï¼ˆ5 åˆ†é’Ÿï¼‰
cd ../client-website
python -m cli.generate_content

# éƒ¨ç½²ä¸Šçº¿ï¼ˆ10 åˆ†é’Ÿï¼‰
# ... æŒ‰ç…§éƒ¨ç½²æ–‡æ¡£æ“ä½œ
```

æ€»è®¡ï¼š**15 åˆ†é’Ÿå†…å®Œæˆä¸€ä¸ªä¼ä¸šå®˜ç½‘**

### 2. åˆ›å»ºäº§å“åŸå‹æˆ–æ¼”ç¤ºç«™ç‚¹

å¿«é€Ÿåˆ›å»ºåŠŸèƒ½å®Œæ•´çš„æ¼”ç¤ºç«™ç‚¹ï¼Œç”¨äºäº§å“å±•ç¤ºæˆ–å®¢æˆ·æ¼”ç¤ºã€‚

### 3. å­¦ä¹ å’Œæ•™å­¦

ä½œä¸ºå­¦ä¹  FastAPIã€SQLAlchemy çš„ç¤ºä¾‹é¡¹ç›®ã€‚

## ğŸ“ è‡ªå®šä¹‰å’Œæ‰©å±•

### ä¿®æ”¹æ ·å¼

ç¼–è¾‘ `templates/static/css/main.css`ï¼Œæˆ–ä½¿ç”¨ Tailwind CSSã€‚

### æ·»åŠ æ–°åŠŸèƒ½

1. ä¿®æ”¹ `app/models/` æ·»åŠ æ–°æ¨¡å‹
2. åˆ›å»ºè¿ç§»ï¼š`alembic revision --autogenerate -m "add new feature"`
3. è¿è¡Œè¿ç§»ï¼š`alembic upgrade head`
4. æ›´æ–°æœåŠ¡å’Œè·¯ç”±

### é›†æˆæ”¯ä»˜ã€é‚®ä»¶ç­‰

å‚è€ƒ FastAPI æ–‡æ¡£é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ã€‚

## ğŸ¯ Token ä¼˜åŒ–å»ºè®®

ä¸ºäº†æœ€å°åŒ– LLM Token æ¶ˆè€—ï¼š

### 1. ç²¾ç®€æç¤ºè¯
- åªè¯·æ±‚å¿…è¦çš„æ•°æ®ï¼ˆ5-8 ä¸ªäº§å“ï¼Œ6-10 ç¯‡æ–‡ç« ï¼‰
- å†…å®¹é•¿åº¦é€‚ä¸­ï¼ˆäº§å“æè¿° 200 å­—ï¼Œæ–‡ç«  300-500 å­—ï¼‰

### 2. åˆ†æ‰¹ç”Ÿæˆ
- å…ˆç”Ÿæˆæ•°æ®åº“è„šæœ¬
- å†ç”Ÿæˆæ¨¡æ¿æ–‡ä»¶
- è€Œä¸æ˜¯ä¸€æ¬¡æ€§ç”Ÿæˆæ‰€æœ‰å†…å®¹

### 3. ä½¿ç”¨æ¨¡æ¿
- ä¿å­˜æˆåŠŸçš„æç¤ºè¯ä½œä¸ºæ¨¡æ¿
- ä¸‹æ¬¡åªéœ€æ›¿æ¢å…¬å¸ä¿¡æ¯

### 4. ä¼°ç®— Token æ¶ˆè€—
- æ•°æ®åº“æç¤ºè¯ï¼šçº¦ 1500 tokens
- æ•°æ®åº“è¿”å›ï¼šçº¦ 3000 tokens
- æ¨¡æ¿æç¤ºè¯ï¼šçº¦ 2000 tokens
- æ¨¡æ¿è¿”å›ï¼šçº¦ 5000 tokens
- **æ€»è®¡ï¼šçº¦ 11,500 tokens**ï¼ˆClaude æˆæœ¬çº¦ $0.15ï¼‰

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šæ•°æ®åº“è¿ç§»å¤±è´¥

```bash
# åˆ é™¤ç°æœ‰æ•°æ®åº“
rm instance/database.db

# é‡æ–°è¿è¡Œè¿ç§»
alembic upgrade head
```

### é—®é¢˜ 2ï¼šæ¨¡æ¿æœªæ‰¾åˆ°

æ£€æŸ¥ `site.yaml` ä¸­çš„ `template_dir` é…ç½®æ˜¯å¦æ­£ç¡®ã€‚

### é—®é¢˜ 3ï¼šLLM ç”Ÿæˆçš„ SQL æœ‰é”™è¯¯

- æ£€æŸ¥å¤–é”®å…³è”æ˜¯å¦æ­£ç¡®
- ç¡®ä¿ slug å”¯ä¸€
- æ£€æŸ¥æ—¥æœŸæ ¼å¼

å¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ `seed_data.sql` ä¿®å¤é”™è¯¯ã€‚

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [FastAPI æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [SQLAlchemy æ–‡æ¡£](https://docs.sqlalchemy.org/)
- [Jinja2 æ–‡æ¡£](https://jinja.palletsprojects.com/)
- [Alembic æ–‡æ¡£](https://alembic.sqlalchemy.org/)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯

MIT License

---

## é™„å½•ï¼šå®Œæ•´å·¥ä½œæµç¤ºä¾‹

```bash
# 1. åˆ›å»ºç«™ç‚¹
python -m cli.create_site --name green-tech --company "ç»¿èŠ½æ™ºèƒ½ç§‘æŠ€" --description "æ™ºèƒ½æ°´åŸ¹è®¾å¤‡"

# 2. è¿›å…¥ç«™ç‚¹
cd ../green-tech

# 3. å®‰è£…ä¾èµ–
python -m venv venv
venv\Scripts\activate
pip install -r requirements.txt

# 4. ç”Ÿæˆå†…å®¹
python -m cli.generate_content
# æŒ‰æç¤ºè¾“å…¥å…¬å¸ä¿¡æ¯
# å°†æç¤ºè¯å‘é€ç»™ Claude
# ä¿å­˜è¿”å›çš„ SQL å’Œæ¨¡æ¿

# 5. åˆå§‹åŒ–æ•°æ®åº“
alembic upgrade head
sqlite3 instance/database.db < seed_data.sql

# 6. å¯åŠ¨æœåŠ¡å™¨
python app.py

# 7. è®¿é—®ç½‘ç«™
# http://localhost:8000
```

**æ€»è€—æ—¶ï¼š15-20 åˆ†é’Ÿ**
**LLM Token æ¶ˆè€—ï¼šçº¦ 11,500 tokens**
**æˆæœ¬ï¼šçº¦ $0.15ï¼ˆä½¿ç”¨ Claude 3.5 Sonnetï¼‰**

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ ğŸ‰**
